<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>我的技术与生活——prometheus-exporter | Mr.Long</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="shortcut icon" href="/imgs/shortcut-icon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/css/public.css" />
  <link rel="stylesheet" href="/css/layout.css" />
  <link rel="stylesheet" href="/css/iconfont.css" />
  <link rel="stylesheet" href="/css/APlayer.min.css" />
  <script src="/js/APlayer.min.js"></script>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/jquery.pjax.min.js"></script>

  <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
  <script>
    document.title = `我的技术与生活——prometheus-exporter`
  </script>
<meta name="generator" content="Hexo 7.3.0"></head>

<style>
  .load {
    width: 100%;
    height: 100vh;
    background-color: rgb(37, 35, 40);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    position: relative;
    z-index: 9999;
  }
  .load-circle {
    width: 80px;
    height: 80px;
    border: 8px solid orange;
    border-bottom-color: transparent;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    animation: rotate 1s linear infinite;
    filter: drop-shadow(0 0 3px orange);
  }
  .load-circle-inner {
    width: 40px;
    height: 40px;
    border: 8px solid orange;
    border-top-color: transparent;
    border-radius: 50%;
    animation: rotate-reverse .5s linear infinite;
  }
  .load-text {
    margin-top: 20px;
    font-size: 24px;
    color: orange;
    display: flex;
  }
  .load-text span {
    margin: 0 5px;
    text-shadow: 5px 5px 5px orange;
    animation: move 1s linear infinite;
  }
  .load-text span:nth-child(1) {
    animation-delay: -0.6s;
  }
  .load-text span:nth-child(2) {
    animation-delay: -0.5s;
  }
  .load-text span:nth-child(3) {
    animation-delay: -0.4s;
  }
  .load-text span:nth-child(4) {
    animation-delay: -0.3s;
  }
  .load-text span:nth-child(5) {
    animation-delay: -0.2s;
  }
  .load-text span:nth-child(6) {
    animation-delay: -0.1s;
  }
  @keyframes rotate {
    0% { transform: rotate(0); }
    100% { transform: rotate(360deg); }
  }
  @keyframes rotate-reverse {
    0% { transform: rotate(0); }
    100% { transform: rotate(-360deg); }
  }
  @keyframes move {
    0% { transform: translateY(0%) rotate(0) scale(1); }
    20% { transform: translateY(20%) rotate(10deg) scale(1.2); }
    80% { transform: translateY(-10%) rotate(-20deg) scale(.8);}
    100% { transform: translateY(0) rotate(0) scale(1); }
  }

  .progress {
    position: fixed;
    left: 0; top: 0;
    width: 0;
    height: 3px;
    background-color: green;
    transition: all cubic-bezier(0.215, 0.610, 0.355, 1) .1s;
    z-index: 9999;
  }

  .to-up {
    animation: toUp .5s 1;
  }
  .gray {
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100vh;
    z-index: 9999;
    display: none;
    pointer-events: none;
    background-color: #000;
    mix-blend-mode: color;
  }
  @keyframes toUp {
    from { transform: translateY(15px); opacity: 0; }
    to { transform: translateY(0) ; opacity: 1; }
  }
</style>
<body>
  <div id="load" class="load">
    <div class="load-circle">
      <div class="load-circle-inner"></div>
    </div>
    <p class="load-text">
      <span>L</span>
      <span>O</span>
      <span>A</span>
      <span>D</span>
      <span>I</span>
      <span>N</span>
      <span>G</span>
    </p>
  </div>
  <div id="container" class="container w-100 vh-100" style="display: none;">
    <header class="header">
  <div class="header-wrapper">
    <div class="header-left">
      <div class="header-search">
        <input id="search-input" type="text" class="header-search--input" placeholder="请输入要检索的文章标题" />
        <span id="search-btn" class="header-search--icon"><i class="iconfont icon-sousuo"></i></span>
      </div>
      <div id="search-layer" class="header-search--layer hidden">
        <p class="title">
          <span>以下是搜索内容：</span>
          <span id="close-layer-btn">关闭</span>
        </p>
        <ul>
        </ul>
      </div>
    </div>
    <div class="header-right">
      <ul class="header-menu">
        <li>
          <a href="http://example.com/">
            <i class="header-menu--icon iconfont icon-shouye"></i>
            <span class="header-menu--span">首页</span>
          </a>
        </li>
        <li>
          <a href="http://example.com/log">
            <i class="header-menu--icon iconfont icon-rizhi"></i>
            <span class="header-menu--span">日志</span>
          </a>
        </li>
        <li>
          <a href="http://example.com/link">
            <i class="header-menu--icon iconfont icon-youqinglianjie"></i>
            <span class="header-menu--span">友情链接</span>
          </a>
        </li>
        <li>
          <a href="http://example.com/about">
            <i class="header-menu--icon iconfont icon-guanyuwomen"></i>
            <span class="header-menu--span">关于我</span>
          </a>
        </li>
      </ul>
    </div>
  </div>
</header>

<script>
  const ipt = document.querySelector('#search-input')
  const btn = document.querySelector('#search-btn')
  const layer = document.querySelector('#search-layer')
  const posts = JSON.parse(`[{"title":"docker命令","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/71e27d1e01da8c13f3f165a1c3bcc8b571e27d1e01da8c13f3f165a1c3bcc8b5","path":"2024/03/21/Docker命令大全/"},{"title":"Kubernetes扩展","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/2e0af7de62ed4210b634c867367c10ae2e0af7de62ed4210b634c867367c10ae","path":"2024/06/01/Kubernetes容器编排技术[扩展]/"},{"title":"LVM逻辑卷管理","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/d733537fd3e06784932826b5e82a855d","path":"2023/06/28/LVM逻辑卷管理/"},{"title":"LV移除、缩容","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/d733537fd3e06784932826b5e82a855d","path":"2023/06/14/LV逻辑卷扩展/"},{"title":"PXE+Kickstart无人值守安装操作系统","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/82cb48f718f8acc8cb2568140eeaaec382cb48f718f8acc8cb2568140eeaaec3","path":"2023/06/26/PXE+Kickstart无人值守安装操作系统/"},{"title":"python一","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15096963228077376","path":"2024/02/20/Python1/"},{"title":"python三","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15096963228077376","path":"2024/02/25/Python3/"},{"title":"PQL","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/240007b00ab1bcd1e3af7bb55f18a966","path":"2024/06/30/PromQL 讲解/"},{"title":"python二","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15096963228077376","path":"2024/02/21/Python2/"},{"title":"TCP协议","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15047394039467328","path":"2023/06/23/TCP协议/"},{"title":"python四","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15096963228077376","path":"2024/03/01/Python4/"},{"title":"Kubernetes组件学习","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/2e0af7de62ed4210b634c867367c10ae2e0af7de62ed4210b634c867367c10ae","path":"2024/06/02/Kubernetes组件/"},{"title":"docker容器","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/71e27d1e01da8c13f3f165a1c3bcc8b571e27d1e01da8c13f3f165a1c3bcc8b5","path":"2024/03/11/docker容器/"},{"title":"FTP文件服务器","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/a9045286aa9b50dcc09302eff83b328a","path":"2023/06/23/ftp/"},{"title":"Galera集群","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/3719037aa1a43c4806d84ac9bd3dbc34","path":"2024/07/26/galera/"},{"title":"redis操作","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/a13d778b5db38e4b127b71bdf122f695","path":"2023/09/26/Redis操作/"},{"title":"ansible模块","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/1e624a7ba7e09f195b3f2f384b2b9bb1","path":"2023/08/17/ansible 模块扩展/"},{"title":"Kubernetes数据库","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/2e0af7de62ed4210b634c867367c10ae2e0af7de62ed4210b634c867367c10ae","path":"2024/06/14/k8s集群数据库/"},{"title":"nginx2","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/8c29198625ff99eee0073bbbb137bbc78c29198625ff99eee0073bbbb137bbc7","path":"2023/12/19/nginx2/"},{"title":"nginx3","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/8c29198625ff99eee0073bbbb137bbc78c29198625ff99eee0073bbbb137bbc7","path":"2023/12/22/nginx3/"},{"title":"nginx1","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/8c29198625ff99eee0073bbbb137bbc78c29198625ff99eee0073bbbb137bbc7","path":"2023/12/17/nginx1/"},{"title":"nginx5","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/8c29198625ff99eee0073bbbb137bbc78c29198625ff99eee0073bbbb137bbc7","path":"2023/12/31/nnginx5/"},{"title":"nginx4","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/8c29198625ff99eee0073bbbb137bbc78c29198625ff99eee0073bbbb137bbc7","path":"2023/12/30/nginx4/"},{"title":"redis集群安装","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/a13d778b5db38e4b127b71bdf122f695","path":"2023/09/21/redis集群/"},{"title":"shell脚本","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/9217d5c6d87ce0e8ec7422ca7469db95","path":"2024/08/10/shell脚本/"},{"title":"prometheus","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/240007b00ab1bcd1e3af7bb55f18a966","path":"2024/06/16/prometheus 监控/"},{"title":"shell编程","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/9217d5c6d87ce0e8ec7422ca7469db95","path":"2023/07/21/shell_newrain/"},{"title":"prometheus-exporter","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/240007b00ab1bcd1e3af7bb55f18a966","path":"2024/06/16/node_exporter/"},{"title":"docker镜像容器","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/71e27d1e01da8c13f3f165a1c3bcc8b571e27d1e01da8c13f3f165a1c3bcc8b5","path":"2024/03/14/容器技术-docker2/"},{"title":"Kubernetes集群部署","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/2e0af7de62ed4210b634c867367c10ae2e0af7de62ed4210b634c867367c10ae","path":"2024/06/10/二进制方式部署k8s集群/"},{"title":"docker-Compose","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/71e27d1e01da8c13f3f165a1c3bcc8b571e27d1e01da8c13f3f165a1c3bcc8b5","path":"2024/03/21/容器技术-docker5/"},{"title":"docker资源限制","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/71e27d1e01da8c13f3f165a1c3bcc8b571e27d1e01da8c13f3f165a1c3bcc8b5","path":"2024/03/15/容器技术docker4/"},{"title":"docker安装","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/71e27d1e01da8c13f3f165a1c3bcc8b571e27d1e01da8c13f3f165a1c3bcc8b5","path":"2024/03/06/容器技术-Docker1/"},{"title":"docker容器","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/71e27d1e01da8c13f3f165a1c3bcc8b571e27d1e01da8c13f3f165a1c3bcc8b5","path":"2024/03/13/容器技术-docker3/"},{"title":"linux文件管理","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/de0f7b079a80d192f90989d9c2c9622d","path":"2023/06/21/文件管理/"},{"title":"用户文件权限","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/3719037aa1a43c4806d84ac9bd3dbc34","path":"2023/06/01/文件权限/"},{"title":"单用户模式破解密码","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/3f6ae566e1f093d2d9dbcc3df361fc4b3f6ae566e1f093d2d9dbcc3df361fc4b","path":"2023/07/01/破解密码/"},{"title":"微服务项目","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/3719037aa1a43c4806d84ac9bd3dbc34","path":"2024/07/26/微服务项目-mall-swarm/"},{"title":"存储管理--1","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/d733537fd3e06784932826b5e82a855d","path":"2023/06/25/磁盘存储管理1/"},{"title":"磁盘阵列","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/69d9906ff9bf88dbc02184ecb8504fc5","path":"2023/07/09/磁盘阵列RAID/"},{"title":"prometheus自定义监控","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/240007b00ab1bcd1e3af7bb55f18a966","path":"2024/06/26/自定义监控/"},{"title":"微服务","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/3719037aa1a43c4806d84ac9bd3dbc34","path":"2024/07/26/微服务概念/"},{"title":"Linux网卡","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/346f59e468f2155074d1fb3164594702","path":"2023/06/11/网络管理基础/"},{"title":"自建YUM源","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/56260873f5720f373c20f43587eab0b8","path":"2023/06/21/自建yum源笔记/"},{"title":"Kubernetes蓝鲸智云平台部署","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/2e0af7de62ed4210b634c867367c10ae2e0af7de62ed4210b634c867367c10ae","path":"2024/09/01/蓝鲸智云平台部署/"},{"title":"走进网络世界","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/583716b0cb306203c308cc0def55dd9e583716b0cb306203c308cc0def55dd9e","path":"2023/06/16/走进网络世界/"},{"title":"docker逃逸原理","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/71e27d1e01da8c13f3f165a1c3bcc8b571e27d1e01da8c13f3f165a1c3bcc8b5","path":"2024/03/11/Docker逃逸原理/"},{"title":"keepalived 配置lvs","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15384717158682944","path":"2023/12/03/keepalived 配 置lvs/"},{"title":"keepalived-邮件mail","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15384717158682944","path":"2023/12/03/keepalived-邮件/"},{"title":"lvs 中的资源配置永久生效和临时生效","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15384717158682944","path":"2023/12/03/lvs中的资源配置永久生效和临时生效/"},{"title":"python连接vscode遇到的问题","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15096963228077376","path":"2024/02/10/python连接vscode遇到的问题/"},{"title":"python学习","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15096963228077376","path":"2024/02/22/python项目/"},{"title":"tomcat session复制及session共享技术","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15143898353798464","path":"2023/09/07/tomcat session复制及session共享技术/"},{"title":"Tomcat01","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15143898353798464","path":"2023/09/03/企业 Tomcat 运维1/"},{"title":"配置tomcat session共享","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15143898353798464","path":"2023/09/16/基于redisson实现tomcat集群session共享/"},{"title":"nginx-TOP-0","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/8c29198625ff99eee0073bbbb137bbc78c29198625ff99eee0073bbbb137bbc7","path":"2023/12/21/服务器nginx配置/"},{"title":"Haproxy","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15384717158682944","path":"2023/12/03/扩展-haproxy/"},{"title":"负载均衡集群","cover":"https://haowallpaper.com/link/common/file/getCroppingImg/15384717158682944","path":"2023/12/03/负载均衡集群 -讲课/"}]`)
  ipt.addEventListener('keyup', e => {
    if (e.key === 'Enter') {
      handleSearch()
    }
  })
  btn.addEventListener('click', () => {
    handleSearch()
  })

  document.querySelector('#close-layer-btn').addEventListener('click', () => {
    layer.classList.toggle('hidden')
  })

  function handleSearch() {
    if (ipt.value.trim() === '') {
      return
    }
    let html = ''
    const targetPosts = posts.filter(post => post.title.includes(ipt.value))
    targetPosts.forEach(post => {
      html += `
        <li>
          <div>
            <a href="/${post.path}">${post.title.replace(new RegExp(ipt.value), `<span>${ipt.value}</span>`)}</a>
          </div>
          <img src="${post.cover || '/imgs/default-cover.webp' }" />
        </li>
      `
    })
    if (html.trim () === '') {
      html += '<p class="empty">没有搜索到内容</p>'
    }
    layer.querySelector('ul').innerHTML = html
    layer.classList.remove('hidden')
  }
</script> 
    <section id="main" class="main">
      <div class="main-left-wrapper">
<div class="main-left">
  <div class="main-left--block">
    <div class="main-left--info">
      <img src="/imgs/avatar.jpg"" class="main-left--avatar" />
      <div class="main-left--intro">
        <p class="main-left--name">Mr.Long</p>
        <div class="main-left--tags">
          <span class="main-left--tag">唱跳rap篮球</span>
          <span class="main-left--tag">宅但不肥</span>
        </div>
      </div>
    </div>
  
    <div>
      <div class="main-left--motto">
        <p>“花有重开日，人无再少年”</p>
        <p>“一个简单普通的男孩”</p>
      </div>
      <div class="main-left--github">
        <span class="line"></span>
        <a target="_blank" rel="noopener" href="https://github.com/MyRong99/MyRong99.github.io"><i class="logo iconfont icon-github-fill"></i></a>
        <span class="line"></span>
      </div>
      <div class="main-left--statics">
        <a href="/categories">
          <div>
            <span>0</span>
            <span>分类</span>
          </div>
        </a>
        <a href="/tags">
          <div>
            <span>8</span>
            <span>标签</span>
          </div>
        </a>
        <a href="/archives">
          <div>
            <span>11 </span>
            <span>归档</span>
          </div>
        </a>
      </div>
    </div>
  </div>

  <div class="main-left--block">
    <ul class="main-left--menu">
      
        <li>
          <a href="/">
            <span class="header-menu--span">小站首页</span>
            <i class="header-menu--icon iconfont icon-shouye"></i>
          </a>
        </li>
      
        <li>
          <a href="/log">
            <span class="header-menu--span">个人日志</span>
            <i class="header-menu--icon iconfont icon-rizhi"></i>
          </a>
        </li>
      
        <li>
          <a href="/link">
            <span class="header-menu--span">友情链接</span>
            <i class="header-menu--icon iconfont icon-youqinglianjie"></i>
          </a>
        </li>
      
        <li>
          <a href="/about">
            <span class="header-menu--span">关于自己</span>
            <i class="header-menu--icon iconfont icon-guanyuwomen"></i>
          </a>
        </li>
      
        <li>
          <a href="/tools">
            <span class="header-menu--span">我的工具</span>
            <i class="header-menu--icon iconfont icon-gongju"></i>
          </a>
        </li>
      
    </ul>
  </div>

  <div class="main-left--block">
    <div class="main-left--site">
      <h5 class="main-left--title">
        <span>站点信息</span>
        <i class="iconfont icon-zhandian"></i>
      </h5>
      <p class="main-left--subtitle">
        <span>文章数目：</span>
        <span>58 篇</span>
      </p>
      <p class="main-left--subtitle">
        <span>最近动态：</span>
        <span>今天</span>
      </p>
      <p class="main-left--subtitle">
        <span>上线时间：</span>
        <span>440天</span>
      </p>
      <p class="main-left--subtitle">
        <span>当前版本：</span>
        <span>v1.0.2</span>
      </p>
    </div>
  </div>
</div></div>
      <div id="main-container" class="main-container">


  <link rel="stylesheet" href="/css/partial/article.css" />

<div class="article-container">
  <div class="article">
    <h1 class="article-title">prometheus-exporter</h1>
    <div class="article-info">
      <div class="article-info--item">
        <div class="article-info--info">
          
          <div class="article-info--categories">
            <span>分类：</span>
            
          </div>
          
          
          <div class="article-info--tags">
            <span>标签：</span>
            <a class="tag-link" href="/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/" rel="tag">-云原生</a>
          </div>
          
          <p class="article-info--date">日期：2024-06-16 20:34:37</p>
        </div>
        <img src="https://haowallpaper.com/link/common/file/getCroppingImg/240007b00ab1bcd1e3af7bb55f18a966" alt="" class="article-cover">
      </div>
    </div>
    <article class="article-content markdown-body">
      <h2 id="指标详解"><a href="#指标详解" class="headerlink" title="指标详解"></a>指标详解</h2><table>
<thead>
<tr>
<th>指标</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>node_arp_entries</td>
<td>ARP（Address Resolution Protocol）表中的条目数量，用于将IP地址映射到MAC地址。</td>
</tr>
<tr>
<td>node_boot_time_seconds</td>
<td>系统启动时间的Unix时间戳，表示从1970年1月1日以来的秒数。</td>
</tr>
<tr>
<td>node_context_switches_total</td>
<td>发生的上下文切换的总数。</td>
</tr>
<tr>
<td>node_cooling_device_cur_state</td>
<td>冷却设备的当前状态。通常用于监视处理器散热器的状态。</td>
</tr>
<tr>
<td>node_cooling_device_max_state</td>
<td>冷却设备的最大状态。</td>
</tr>
<tr>
<td>node_cpu_guest_seconds_total</td>
<td>虚拟CPU的用户模式时间（以秒为单位）。</td>
</tr>
<tr>
<td>node_cpu_seconds_total</td>
<td>CPU核心的用户、系统和其他模式的CPU时间（以秒为单位）。</td>
</tr>
<tr>
<td>node_disk_device_mapper_info</td>
<td>关于设备映射器（device mapper）的信息，如名称、大小、状态等。</td>
</tr>
<tr>
<td>node_disk_filesystem_info</td>
<td>文件系统的信息，包括名称、容量、类型和挂载点。</td>
</tr>
<tr>
<td>node_disk_info</td>
<td>磁盘的信息，包括名称、容量、类型和状态。</td>
</tr>
<tr>
<td>node_disk_io_now</td>
<td>当前的磁盘I&#x2F;O操作数。</td>
</tr>
<tr>
<td>node_disk_io_time_seconds_total</td>
<td>磁盘I&#x2F;O操作的总时间（以秒为单位）。</td>
</tr>
<tr>
<td>node_disk_io_time_weighted_seconds_total</td>
<td>加权磁盘I&#x2F;O操作的总时间（以秒为单位）。</td>
</tr>
<tr>
<td>node_disk_read_bytes_total</td>
<td>读取的总字节数。</td>
</tr>
<tr>
<td>node_disk_read_time_seconds_total</td>
<td>磁盘读取操作的总时间（以秒为单位）。</td>
</tr>
<tr>
<td>node_disk_reads_completed_total</td>
<td>已完成的磁盘读取操作的总数。</td>
</tr>
<tr>
<td>node_disk_reads_merged_total</td>
<td>合并的磁盘读取操作的总数。</td>
</tr>
<tr>
<td>node_disk_write_time_seconds_total</td>
<td>磁盘写入操作的总时间（以秒为单位）。</td>
</tr>
<tr>
<td>node_disk_writes_completed_total</td>
<td>已完成的磁盘写入操作的总数。</td>
</tr>
<tr>
<td>node_disk_writes_merged_total</td>
<td>合并的磁盘写入操作的总数。</td>
</tr>
<tr>
<td>node_disk_written_bytes_total</td>
<td>写入的总字节数。</td>
</tr>
<tr>
<td>node_dmi_info</td>
<td>有关系统DMI（Desktop Management Interface）的信息，包括制造商、型号和序列号。</td>
</tr>
<tr>
<td>node_entropy_available_bits</td>
<td>系统熵池中可用的比特数。</td>
</tr>
<tr>
<td>node_entropy_pool_size_bits</td>
<td>系统熵池的大小（以比特为单位）。</td>
</tr>
<tr>
<td>node_exporter_build_info</td>
<td>Node Exporter的版本和构建信息。</td>
</tr>
<tr>
<td>node_filefd_allocated</td>
<td>已分配的文件描述符数量。</td>
</tr>
<tr>
<td>node_filefd_maximum</td>
<td>系统允许的最大文件描述符数量。</td>
</tr>
<tr>
<td>node_filesystem_avail_bytes</td>
<td>文件系统可用空间的字节数。</td>
</tr>
<tr>
<td>node_filesystem_device_error</td>
<td>文件系统设备是否出错（通常是0或1）。</td>
</tr>
<tr>
<td>node_filesystem_files</td>
<td>文件系统中的文件总数。</td>
</tr>
<tr>
<td>node_filesystem_files_free</td>
<td>文件系统中的可用文件数。</td>
</tr>
<tr>
<td>node_filesystem_free_bytes</td>
<td>文件系统的空闲字节数。</td>
</tr>
<tr>
<td>node_filesystem_readonly</td>
<td>文件系统是否为只读（通常是0或1）。</td>
</tr>
<tr>
<td>node_filesystem_size_bytes</td>
<td>文件系统的总字节数。</td>
</tr>
<tr>
<td>node_forks_total</td>
<td>系统中的总进程分支数。</td>
</tr>
<tr>
<td>node_intr_total</td>
<td>中断的总数。</td>
</tr>
<tr>
<td>node_load1</td>
<td>系统的1分钟平均负载。</td>
</tr>
<tr>
<td>node_load15</td>
<td>系统的15分钟平均负载。</td>
</tr>
<tr>
<td>node_load5</td>
<td>系统的5分钟平均负载。</td>
</tr>
<tr>
<td>node_memory_Active_anon_bytes</td>
<td>活跃的匿名内存的字节数，指的是进程正在使用的内存而不是文件系统缓存。</td>
</tr>
<tr>
<td>node_memory_Active_bytes</td>
<td>活跃内存的字节数，包括匿名内存和文件系统缓存。</td>
</tr>
<tr>
<td>node_memory_Active_file_bytes</td>
<td>活跃的文件系统缓存内存的字节数。</td>
</tr>
<tr>
<td>node_memory_AnonHugePages_bytes</td>
<td>匿名巨大页面的字节数。</td>
</tr>
<tr>
<td>node_memory_AnonPages_bytes</td>
<td>匿名内存页面的字节数。</td>
</tr>
<tr>
<td>node_memory_Bounce_bytes</td>
<td>内存反弹缓冲区的字节数。</td>
</tr>
<tr>
<td>node_memory_Buffers_bytes</td>
<td>系统缓冲区占用的内存的字节数。</td>
</tr>
<tr>
<td>node_memory_Cached_bytes</td>
<td>文件系统缓存的内存的字节数。</td>
</tr>
<tr>
<td>node_memory_CmaFree_bytes</td>
<td>CMA（Contiguous Memory Allocator）空闲内存的字节数。</td>
</tr>
<tr>
<td>node_memory_CmaTotal_bytes</td>
<td>CMA总内存的字节数。</td>
</tr>
<tr>
<td>node_memory_CommitLimit_bytes</td>
<td>系统内存提交限制的字节数。</td>
</tr>
<tr>
<td>node_memory_Committed_AS_bytes</td>
<td>已分配的内存的字节数。</td>
</tr>
<tr>
<td>node_memory_DirectMap1G_bytes</td>
<td>直接映射到1GB内存的字节数。</td>
</tr>
<tr>
<td>node_memory_DirectMap2M_bytes</td>
<td>直接映射到2MB内存的字节数。</td>
</tr>
<tr>
<td>node_memory_DirectMap4k_bytes</td>
<td>直接映射到4KB内存的字节数。</td>
</tr>
<tr>
<td>node_memory_Dirty_bytes</td>
<td>脏页面的字节数。</td>
</tr>
<tr>
<td>node_memory_HardwareCorrupted_bytes</td>
<td>硬件损坏内存的字节数。</td>
</tr>
<tr>
<td>node_memory_HugePages_Free</td>
<td>空闲的巨大页面数。</td>
</tr>
<tr>
<td>node_memory_HugePages_Rsvd</td>
<td>已保留的巨大页面数。</td>
</tr>
<tr>
<td>node_memory_HugePages_Surp</td>
<td>额外的巨大页面数。</td>
</tr>
<tr>
<td>node_memory_HugePages_Total</td>
<td>总的巨大页面数。</td>
</tr>
<tr>
<td>node_memory_Hugepagesize_bytes</td>
<td>巨大页面的页面大小（以字节数为单位）。</td>
</tr>
<tr>
<td>node_memory_Inactive_anon_bytes</td>
<td>非活跃的匿名内存的字节数。</td>
</tr>
<tr>
<td>node_memory_Inactive_bytes</td>
<td>非活跃内存的字节数。</td>
</tr>
<tr>
<td>node_memory_Inactive_file_bytes</td>
<td>非活跃的文件系统缓存内存的字节数。</td>
</tr>
<tr>
<td>node_memory_KernelStack_bytes</td>
<td>内核栈内存的字节数。</td>
</tr>
<tr>
<td>node_memory_Mapped_bytes</td>
<td>映射内存的字节数。</td>
</tr>
<tr>
<td>node_memory_MemAvailable_bytes</td>
<td>系统可用内存的字节数。</td>
</tr>
<tr>
<td>node_memory_MemFree_bytes</td>
<td>系统可用空闲内存的字节数。</td>
</tr>
<tr>
<td>node_memory_MemTotal_bytes</td>
<td>系统物理内存的总字节数。</td>
</tr>
<tr>
<td>node_memory_Mlocked_bytes</td>
<td>锁定的内存的字节数。</td>
</tr>
<tr>
<td>node_memory_NFS_Unstable_bytes</td>
<td>NFS（Network File System）不稳定内存的字节数。</td>
</tr>
<tr>
<td>node_memory_PageTables_bytes</td>
<td>页表内存的字节数。</td>
</tr>
<tr>
<td>node_memory_Percpu_bytes</td>
<td>每个CPU核心的分配内存的字节数。</td>
</tr>
<tr>
<td>node_memory_SReclaimable_bytes</td>
<td>可回收内存的字节数。</td>
</tr>
<tr>
<td>node_memory_SUnreclaim_bytes</td>
<td>不可回收内存的字节数。</td>
</tr>
<tr>
<td>node_memory_Shmem_bytes</td>
<td>共享内存的字节数。</td>
</tr>
<tr>
<td>node_memory_Slab_bytes</td>
<td>内核SLAB分配内存的字节数。</td>
</tr>
<tr>
<td>node_memory_SwapCached_bytes</td>
<td>交换缓存内存的字节数。</td>
</tr>
<tr>
<td>node_memory_SwapFree_bytes</td>
<td>交换空闲内存的字节数。</td>
</tr>
<tr>
<td>node_memory_SwapTotal_bytes</td>
<td>交换总内存的字节数。</td>
</tr>
<tr>
<td>node_memory_Unevictable_bytes</td>
<td>无法剥夺的内存的字节数。</td>
</tr>
<tr>
<td>node_memory_VmallocChunk_bytes</td>
<td>虚拟内存分配的块大小的字节数。</td>
</tr>
<tr>
<td>node_memory_VmallocTotal_bytes</td>
<td>总的虚拟内存的字节数。</td>
</tr>
<tr>
<td>node_memory_VmallocUsed_bytes</td>
<td>已使用的虚拟内存的字节数。</td>
</tr>
<tr>
<td>node_memory_WritebackTmp_bytes</td>
<td>写回临时内存的字节数。</td>
</tr>
<tr>
<td>node_memory_Writeback_bytes</td>
<td>写回内存的字节数。</td>
</tr>
<tr>
<td>node_netstat_Icmp6_InErrors</td>
<td>IPv6 ICMP接收错误的次数。</td>
</tr>
<tr>
<td>node_netstat_Icmp6_InMsgs</td>
<td>IPv6 ICMP接收的消息数量。</td>
</tr>
<tr>
<td>node_netstat_Icmp6_OutMsgs</td>
<td>IPv6 ICMP传输的消息数量。</td>
</tr>
<tr>
<td>node_netstat_Icmp_InErrors</td>
<td>IPv4 ICMP接收错误的次数。</td>
</tr>
<tr>
<td>node_netstat_Icmp_InMsgs</td>
<td>IPv4 ICMP接收的消息数量。</td>
</tr>
<tr>
<td>node_netstat_Icmp_OutMsgs</td>
<td>IPv4 ICMP传输的消息数量。</td>
</tr>
<tr>
<td>node_netstat_Ip6_InOctets</td>
<td>IPv6接收的字节数。</td>
</tr>
<tr>
<td>node_netstat_Ip6_OutOctets</td>
<td>IPv6传输的字节数。</td>
</tr>
<tr>
<td>node_netstat_IpExt_InOctets</td>
<td>扩展IP接收的字节数。</td>
</tr>
<tr>
<td>node_netstat_IpExt_OutOctets</td>
<td>扩展IP传输的字节数。</td>
</tr>
<tr>
<td>node_netstat_Ip_Forwarding</td>
<td>IP包转发状态（通常为0或1）。</td>
</tr>
<tr>
<td>node_netstat_TcpExt_ListenDrops</td>
<td>TCP监听队列中的连接被拒绝的次数。</td>
</tr>
<tr>
<td>node_netstat_TcpExt_ListenOverflows</td>
<td>TCP监听队列溢出的次数。</td>
</tr>
<tr>
<td>node_netstat_TcpExt_SyncookiesFailed</td>
<td>TCP SYN cookie处理失败的次数。</td>
</tr>
<tr>
<td>node_netstat_TcpExt_SyncookiesRecv</td>
<td>TCP SYN cookie接收的次数。</td>
</tr>
<tr>
<td>node_netstat_TcpExt_SyncookiesSent</td>
<td>TCP SYN cookie发送的次数。</td>
</tr>
<tr>
<td>node_netstat_TcpExt_TCPSynRetrans</td>
<td>TCP SYN重传的次数。</td>
</tr>
<tr>
<td>node_netstat_TcpExt_TCPTimeouts</td>
<td>TCP连接超时的次数。</td>
</tr>
<tr>
<td>node_netstat_Tcp_ActiveOpens</td>
<td>TCP主动打开连接的次数。</td>
</tr>
<tr>
<td>node_netstat_Tcp_CurrEstab</td>
<td>当前TCP连接的数量。</td>
</tr>
<tr>
<td>node_netstat_Tcp_InErrs</td>
<td>TCP接收错误的次数。</td>
</tr>
<tr>
<td>node_netstat_Tcp_InSegs</td>
<td>TCP接收的数据包的数量。</td>
</tr>
<tr>
<td>node_netstat_Tcp_OutRsts</td>
<td>TCP传输的复位包的数量。</td>
</tr>
<tr>
<td>node_netstat_Tcp_OutSegs</td>
<td>TCP传输的数据包的数量。</td>
</tr>
<tr>
<td>node_netstat_Tcp_PassiveOpens</td>
<td>TCP被动打开连接的次数。</td>
</tr>
<tr>
<td>node_netstat_Tcp_RetransSegs</td>
<td>TCP重传的数据包的数量。</td>
</tr>
<tr>
<td>node_netstat_Udp6_InDatagrams</td>
<td>IPv6 UDP接收的数据包的数量。</td>
</tr>
<tr>
<td>node_netstat_Udp6_InErrors</td>
<td>IPv6 UDP接收错误的次数。</td>
</tr>
<tr>
<td>node_netstat_Udp6_NoPorts</td>
<td>IPv6 UDP接收到的数据包，但没有适当的端口可用。</td>
</tr>
<tr>
<td>node_netstat_Udp6_OutDatagrams</td>
<td>IPv6 UDP传输的数据包的数量。</td>
</tr>
<tr>
<td>node_netstat_Udp6_RcvbufErrors</td>
<td>IPv6 UDP接收缓冲区错误的次数。</td>
</tr>
<tr>
<td>node_netstat_Udp6_SndbufErrors</td>
<td>IPv6 UDP发送缓冲区错误的次数。</td>
</tr>
<tr>
<td>node_netstat_UdpLite6_InErrors</td>
<td>IPv6 UDP Lite接收错误的次数。</td>
</tr>
<tr>
<td>node_netstat_UdpLite_InErrors</td>
<td>UDP Lite接收错误的次数。</td>
</tr>
<tr>
<td>node_netstat_Udp_InDatagrams</td>
<td>UDP接收的数据包的数量。</td>
</tr>
<tr>
<td>node_netstat_Udp_InErrors</td>
<td>UDP接收错误的次数。</td>
</tr>
<tr>
<td>node_netstat_Udp_NoPorts</td>
<td>UDP接收到的数据包，但没有适当的端口可用。</td>
</tr>
<tr>
<td>node_netstat_Udp_OutDatagrams</td>
<td>UDP传输的数据包的数量。</td>
</tr>
<tr>
<td>node_netstat_Udp_RcvbufErrors</td>
<td>UDP接收缓冲区错误的次数。</td>
</tr>
<tr>
<td>node_netstat_Udp_SndbufErrors</td>
<td>UDP发送缓冲区错误的次数。</td>
</tr>
<tr>
<td>node_network_address_assign_type</td>
<td>网络地址分配类型。</td>
</tr>
<tr>
<td>node_network_carrier</td>
<td>网络接口是否连接到网络（通常是0或1）。</td>
</tr>
<tr>
<td>node_network_carrier_changes_total</td>
<td>网络接口连接状态更改的总数。</td>
</tr>
<tr>
<td>node_network_device_id</td>
<td>网络接口的唯一标识符。</td>
</tr>
<tr>
<td>node_network_dormant</td>
<td>网络接口是否处于休眠状态（通常是0或1）。</td>
</tr>
<tr>
<td>node_network_flags</td>
<td>网络接口的标志和属性。</td>
</tr>
<tr>
<td>node_network_iface_id</td>
<td>网络接口的ID。</td>
</tr>
<tr>
<td>node_network_iface_link</td>
<td>网络接口是否链接（通常是0或1）。</td>
</tr>
<tr>
<td>node_network_iface_link_mode</td>
<td>网络接口的链接模式。</td>
</tr>
<tr>
<td>node_network_info</td>
<td>有关网络接口的信息，如名称、MAC地址等。</td>
</tr>
<tr>
<td>node_network_mtu_bytes</td>
<td>网络接口的最大传输单元（MTU）大小（以字节为单位）。</td>
</tr>
<tr>
<td>node_network_net_dev_group</td>
<td>网络接口的网络设备组。</td>
</tr>
<tr>
<td>node_network_protocol_type</td>
<td>网络接口的协议类型。</td>
</tr>
<tr>
<td>node_network_receive_bytes_total</td>
<td>接收的总字节数。</td>
</tr>
<tr>
<td>node_network_receive_compressed_total</td>
<td>接收的压缩字节数的总数。</td>
</tr>
<tr>
<td>node_network_receive_drop_total</td>
<td>接收的丢弃数据包的总数。</td>
</tr>
<tr>
<td>node_network_receive_errs_total</td>
<td>接收的错误数据包的总数。</td>
</tr>
<tr>
<td>node_network_receive_fifo_total</td>
<td>接收的FIFO数据包的总数。</td>
</tr>
<tr>
<td>node_network_receive_frame_total</td>
<td>接收的帧数据包的总数。</td>
</tr>
<tr>
<td>node_network_receive_multicast_total</td>
<td>接收的多播数据包的总数。</td>
</tr>
<tr>
<td>node_network_receive_nohandler_total</td>
<td>没有处理的接收数据包的总数。</td>
</tr>
<tr>
<td>node_network_receive_packets_total</td>
<td>接收的数据包的总数。</td>
</tr>
<tr>
<td>node_network_speed_bytes</td>
<td>网络接口的速度（以字节为单位）。</td>
</tr>
<tr>
<td>node_network_transmit_bytes_total</td>
<td>传输的总字节数。</td>
</tr>
<tr>
<td>node_network_transmit_carrier_total</td>
<td>传输的载波数据包的总数。</td>
</tr>
<tr>
<td>node_network_transmit_colls_total</td>
<td>传输的碰撞数据包的总数。</td>
</tr>
<tr>
<td>node_network_transmit_compressed_total</td>
<td>传输的压缩数据包的总数。</td>
</tr>
<tr>
<td>node_network_transmit_drop_total</td>
<td>传输的丢弃数据包的总数。</td>
</tr>
<tr>
<td>node_network_transmit_errs_total</td>
<td>传输的错误数据包的总数。</td>
</tr>
<tr>
<td>node_network_transmit_fifo_total</td>
<td>传输的FIFO数据包的总数。</td>
</tr>
<tr>
<td>node_network_transmit_packets_total</td>
<td>传输的数据包的总数。</td>
</tr>
<tr>
<td>node_network_transmit_queue_length</td>
<td>传输队列的长度。</td>
</tr>
<tr>
<td>node_network_up</td>
<td>网络接口是否处于活动状态（通常是0或1）。</td>
</tr>
<tr>
<td>node_os_info</td>
<td>操作系统的信息。</td>
</tr>
<tr>
<td>node_os_version</td>
<td>操作系统的版本信息。</td>
</tr>
<tr>
<td>node_power_supply_info</td>
<td>电源供应的信息。</td>
</tr>
<tr>
<td>node_power_supply_online</td>
<td>电源是否在线（通常是0或1）。</td>
</tr>
<tr>
<td>node_procs_blocked</td>
<td>被阻塞的进程数量。</td>
</tr>
<tr>
<td>node_procs_running</td>
<td>正在运行的进程数量。</td>
</tr>
<tr>
<td>node_schedstat_running_seconds_total</td>
<td>CPU运行时间的总秒数。</td>
</tr>
<tr>
<td>node_schedstat_timeslices_total</td>
<td>CPU时间片的总数。</td>
</tr>
<tr>
<td>node_schedstat_waiting_seconds_total</td>
<td>CPU等待时间的总秒数。</td>
</tr>
<tr>
<td>node_scrape_collector_duration_seconds</td>
<td>采集器运行的时间（秒）。</td>
</tr>
<tr>
<td>node_scrape_collector_success</td>
<td>采集器是否成功运行（通常是0或1）。</td>
</tr>
<tr>
<td>node_selinux_enabled</td>
<td>SELinux是否启用（通常是0或1）。</td>
</tr>
<tr>
<td>node_sockstat_FRAG6_inuse</td>
<td>IPv6分片数据包的使用数量。</td>
</tr>
<tr>
<td>node_sockstat_FRAG6_memory</td>
<td>IPv6分片数据包的内存占用。</td>
</tr>
<tr>
<td>node_sockstat_FRAG_inuse</td>
<td>IPv4分片数据包的使用数量。</td>
</tr>
<tr>
<td>node_sockstat_FRAG_memory</td>
<td>IPv4分片数据包的内存占用。</td>
</tr>
<tr>
<td>node_sockstat_RAW6_inuse</td>
<td>IPv6原始套接字的使用数量。</td>
</tr>
<tr>
<td>node_sockstat_RAW_inuse</td>
<td>IPv4原始套接字的使用数量。</td>
</tr>
<tr>
<td>node_sockstat_TCP6_inuse</td>
<td>IPv6 TCP套接字的使用数量。</td>
</tr>
<tr>
<td>node_sockstat_TCP_alloc</td>
<td>TCP套接字的分配数量。</td>
</tr>
<tr>
<td>node_sockstat_TCP_inuse</td>
<td>IPv4 TCP套接字的使用数量。</td>
</tr>
<tr>
<td>node_sockstat_TCP_mem</td>
<td>TCP套接字内存的使用情况。</td>
</tr>
<tr>
<td>node_sockstat_TCP_mem_bytes</td>
<td>TCP套接字内存的使用情况（以字节为单位）。</td>
</tr>
<tr>
<td>node_sockstat_TCP_orphan</td>
<td>TCP套接字的孤立数量。</td>
</tr>
<tr>
<td>node_sockstat_TCP_tw</td>
<td>TCP套接字的TIME_WAIT状态数量。</td>
</tr>
<tr>
<td>node_sockstat_UDP6_inuse</td>
<td>IPv6 UDP套接字的使用数量。</td>
</tr>
<tr>
<td>node_sockstat_UDPLITE6_inuse</td>
<td>IPv6 UDP Lite套接字的使用数量。</td>
</tr>
<tr>
<td>node_sockstat_UDPLITE_inuse</td>
<td>UDP Lite套接字的使用数量。</td>
</tr>
<tr>
<td>node_sockstat_UDP_inuse</td>
<td>IPv4 UDP套接字的使用数量。</td>
</tr>
<tr>
<td>node_sockstat_UDP_mem</td>
<td>UDP套接字内存的使用情况。</td>
</tr>
<tr>
<td>node_sockstat_UDP_mem_bytes</td>
<td>UDP套接字内存的使用情况（以字节为单位）。</td>
</tr>
<tr>
<td>node_sockstat_sockets_used</td>
<td>使用的套接字数量。</td>
</tr>
<tr>
<td>node_softnet_backlog_len</td>
<td>软网络设备队列的长度。</td>
</tr>
<tr>
<td>node_softnet_cpu_collision_total</td>
<td>CPU冲突的次数。</td>
</tr>
<tr>
<td>node_softnet_dropped_total</td>
<td>丢弃的数据包的总数。</td>
</tr>
<tr>
<td>node_softnet_flow_limit_count_total</td>
<td>流量限制计数的总数。</td>
</tr>
<tr>
<td>node_softnet_processed_total</td>
<td>已处理的数据包的总数。</td>
</tr>
<tr>
<td>node_softnet_received_rps_total</td>
<td>接收到的RPS（Receive Packet Steering）数据包的总数。</td>
</tr>
<tr>
<td>node_softnet_times_squeezed_total</td>
<td>已挤压的时间片的总数。</td>
</tr>
<tr>
<td>node_textfile_scrape_error</td>
<td>文本文件采集器的错误信息。</td>
</tr>
<tr>
<td>node_time_clocksource_available_info</td>
<td>可用时钟源的信息。</td>
</tr>
<tr>
<td>node_time_clocksource_current_info</td>
<td>当前时钟源的信息。</td>
</tr>
<tr>
<td>node_time_seconds</td>
<td>系统时间的秒数。</td>
</tr>
<tr>
<td>node_time_zone_offset_seconds</td>
<td>系统时区的偏移秒数。</td>
</tr>
<tr>
<td>node_timex_estimated_error_seconds</td>
<td>估计的时钟误差（秒）。</td>
</tr>
<tr>
<td>node_timex_frequency_adjustment_ratio</td>
<td>频率调整比率。</td>
</tr>
<tr>
<td>node_timex_loop_time_constant</td>
<td>时钟环回时间常数。</td>
</tr>
<tr>
<td>node_timex_maxerror_seconds</td>
<td>最大时钟误差（秒）。</td>
</tr>
<tr>
<td>node_timex_offset_seconds</td>
<td>时钟偏移（秒）。</td>
</tr>
<tr>
<td>node_timex_pps_calibration_total</td>
<td>PPS（Pulse-Per-Second）校准次数。</td>
</tr>
<tr>
<td>node_timex_pps_error_total</td>
<td>PPS错误次数。</td>
</tr>
<tr>
<td>node_timex_pps_frequency_hertz</td>
<td>PPS频率（赫兹）。</td>
</tr>
<tr>
<td>node_timex_pps_jitter_seconds</td>
<td>PPS抖动（秒）。</td>
</tr>
<tr>
<td>node_timex_pps_jitter_total</td>
<td>PPS抖动总数。</td>
</tr>
<tr>
<td>node_timex_pps_shift_seconds</td>
<td>PPS偏移（秒）。</td>
</tr>
<tr>
<td>node_timex_pps_stability_exceeded_total</td>
<td>PPS稳定性超过阈值的次数。</td>
</tr>
<tr>
<td>node_timex_pps_stability_hertz</td>
<td>PPS稳定性（赫兹）。</td>
</tr>
<tr>
<td>node_timex_status</td>
<td>时钟状态信息。</td>
</tr>
<tr>
<td>node_timex_sync_status</td>
<td>同步状态信息。</td>
</tr>
<tr>
<td>node_timex_tai_offset_seconds</td>
<td>TAI（International Atomic Time）时钟偏移（秒）。</td>
</tr>
<tr>
<td>node_timex_tick_seconds</td>
<td>时钟滴答（秒）。</td>
</tr>
<tr>
<td>node_udp_queues</td>
<td>UDP队列信息。</td>
</tr>
<tr>
<td>node_vmstat_pgfault</td>
<td>虚拟内存统计中的页错误次数。</td>
</tr>
<tr>
<td>node_vmstat_pgmajfault</td>
<td>虚拟内存统计中的主要页错误次数。</td>
</tr>
<tr>
<td>node_vmstat_pgpgin</td>
<td>虚拟内存统计中的页入操作次数。</td>
</tr>
<tr>
<td>node_vmstat_pgpgout</td>
<td>虚拟内存统计中的页出操作次数。</td>
</tr>
<tr>
<td>node_vmstat_pswpin</td>
<td>虚拟内存统计中的页交换入次数。</td>
</tr>
<tr>
<td>node_vmstat_pswpout</td>
<td>虚拟内存统计中的页交换出次数。</td>
</tr>
<tr>
<td>node_xfs_allocation_btree_compares_total</td>
<td>XFS分配B树比较次数的总数。</td>
</tr>
<tr>
<td>node_xfs_allocation_btree_lookups_total</td>
<td>XFS分配B树查找次数的总数。</td>
</tr>
<tr>
<td>node_xfs_allocation_btree_records_deleted_total</td>
<td>XFS分配B树记录删除次数的总数。</td>
</tr>
<tr>
<td>node_xfs_allocation_btree_records_inserted_total</td>
<td>XFS分配B树记录插入次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_map_btree_compares_total</td>
<td>XFS块映射B树比较次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_map_btree_lookups_total</td>
<td>XFS块映射B树查找次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_map_btree_records_deleted_total</td>
<td>XFS块映射B树记录删除次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_map_btree_records_inserted_total</td>
<td>XFS块映射B树记录插入次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_mapping_extent_list_compares_total</td>
<td>XFS块映射范围列表比较次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_mapping_extent_list_deletions_total</td>
<td>XFS块映射范围列表删除次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_mapping_extent_list_insertions_total</td>
<td>XFS块映射范围列表插入次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_mapping_extent_list_lookups_total</td>
<td>XFS块映射范围列表查找次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_mapping_reads_total</td>
<td>XFS块映射读取次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_mapping_unmaps_total</td>
<td>XFS块映射取消映射次数的总数。</td>
</tr>
<tr>
<td>node_xfs_block_mapping_writes_total</td>
<td>XFS块映射写入次数的总数。</td>
</tr>
<tr>
<td>node_xfs_directory_operation_create_total</td>
<td>XFS目录操作创建次数的总数。</td>
</tr>
<tr>
<td>node_xfs_directory_operation_getdents_total</td>
<td>XFS目录操作获取条目次数的总数。</td>
</tr>
<tr>
<td>node_xfs_directory_operation_lookup_total</td>
<td>XFS目录操作查找次数的总数。</td>
</tr>
<tr>
<td>node_xfs_directory_operation_remove_total</td>
<td>XFS目录操作删除次数的总数。</td>
</tr>
<tr>
<td>node_xfs_extent_allocation_blocks_allocated_total</td>
<td>XFS范围分配块分配次数的总数。</td>
</tr>
<tr>
<td>node_xfs_extent_allocation_blocks_freed_total</td>
<td>XFS范围分配块释放次数的总数。</td>
</tr>
<tr>
<td>node_xfs_extent_allocation_extents_allocated_total</td>
<td>XFS范围分配范围分配次数的总数。</td>
</tr>
<tr>
<td>node_xfs_extent_allocation_extents_freed_total</td>
<td>XFS范围分配范围释放次数的总数。</td>
</tr>
<tr>
<td>node_xfs_inode_operation_attempts_total</td>
<td>XFS节点操作尝试次数的总数。</td>
</tr>
<tr>
<td>node_xfs_inode_operation_attribute_changes_total</td>
<td>XFS节点操作属性更改次数的总数。</td>
</tr>
<tr>
<td>node_xfs_inode_operation_duplicates_total</td>
<td>XFS节点操作重复次数的总数。</td>
</tr>
<tr>
<td>node_xfs_inode_operation_found_total</td>
<td>XFS节点操作查找成功次数的总数。</td>
</tr>
<tr>
<td>node_xfs_inode_operation_missed_total</td>
<td>XFS节点操作查找失败次数的总数。</td>
</tr>
<tr>
<td>node_xfs_inode_operation_reclaims_total</td>
<td>XFS节点操作回收次数的总数。</td>
</tr>
<tr>
<td>node_xfs_inode_operation_recycled_total</td>
<td>XFS节点操作回收再利用次数的总数。</td>
</tr>
<tr>
<td>node_xfs_read_calls_total</td>
<td>XFS读取调用次数的总数。</td>
</tr>
<tr>
<td>node_xfs_vnode_active_total</td>
<td>XFS活动节点数量的总数。</td>
</tr>
<tr>
<td>node_xfs_vnode_allocate_total</td>
<td>XFS节点分配次数的总数。</td>
</tr>
<tr>
<td>node_xfs_vnode_get_total</td>
<td>XFS获取节点次数的总数。</td>
</tr>
<tr>
<td>node_xfs_vnode_hold_total</td>
<td>XFS保留节点次数的总数。</td>
</tr>
<tr>
<td>node_xfs_vnode_reclaim_total</td>
<td>XFS节点回收次数的总数。</td>
</tr>
<tr>
<td>node_xfs_vnode_release_total</td>
<td>XFS释放节点次数的总数。</td>
</tr>
<tr>
<td>node_xfs_vnode_remove_total</td>
<td>XFS删除节点次数的总数。</td>
</tr>
<tr>
<td>node_xfs_write_calls_total</td>
<td>XFS写入调用次数的总数。</td>
</tr>
<tr>
<td>process_cpu_seconds_total</td>
<td>进程的CPU时间总量。</td>
</tr>
<tr>
<td>process_max_fds</td>
<td>进程的最大文件描述符数。</td>
</tr>
<tr>
<td>process_open_fds</td>
<td>进程的已打开文件描述符数。</td>
</tr>
<tr>
<td>process_resident_memory_bytes</td>
<td>进程的常驻内存大小（字节）。</td>
</tr>
<tr>
<td>process_start_time_seconds</td>
<td>进程的启动时间（秒）。</td>
</tr>
<tr>
<td>process_virtual_memory_bytes</td>
<td>进程的虚拟内存大小（字节）。</td>
</tr>
<tr>
<td>process_virtual_memory_max_bytes</td>
<td>进程的最大虚拟内存大小（字节）。</td>
</tr>
<tr>
<td>promhttp_metric_handler_errors_total</td>
<td>Prometheus HTTP指标处理器的错误次数。</td>
</tr>
<tr>
<td>promhttp_metric_handler_requests_in_flight</td>
<td>Prometheus HTTP指标处理器当前正在处理的请求数。</td>
</tr>
<tr>
<td>promhttp_metric_handler_requests_total</td>
<td>Prometheus HTTP指标处理器的请求总数。</td>
</tr>
</tbody></table>
<h2 id="常用指标"><a href="#常用指标" class="headerlink" title="常用指标"></a>常用指标</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1. CPU Cores 物理 CPU 的核数 cat /proc/cpuinfo| grep &quot;cpu cores&quot;| uniq</span><br><span class="line">type：Singlestat</span><br><span class="line">Unit: short</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">count(count(node_cpu_seconds_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;) by (cpu))</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2. Total RAM 内存大小 cat /proc/meminfo | grep MemTotal</span><br><span class="line">type：Singlestat</span><br><span class="line">Unit: bytes</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_MemTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">3. Total SWAP 交换分区的大小 cat /proc/swaps</span><br><span class="line">type：Singlestat</span><br><span class="line">Unit: bytes</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_SwapTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">4. Total RootFS 根文件系统总空间</span><br><span class="line">type：Singlestat</span><br><span class="line">Unit： bytes</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_filesystem_size_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,mountpoint=&quot;/&quot;,fstype!=&quot;rootfs&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">5. System Load (1m avg) 系统一分钟内的负载 cat /proc/loadavg 第一列，单核 cpu 的load小于1 表示没有等待的任务， 等于1 表示系统</span><br><span class="line">已经没有额外的资源跑更多进程了，大于1表示进程拥堵在等待资源</span><br><span class="line">type：Singlestat</span><br><span class="line">Unit: short</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_load1&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">6. Uptime 系统正常运行的时间</span><br><span class="line">type：Singlestat</span><br><span class="line">Unit: seconds (s)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_time_seconds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; - node_boot_time_seconds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">node_time_seconds 当前系统时间</span><br><span class="line">node_boot_time_seconds 系统启动时间</span><br><span class="line">Basic CPU / Mem / Disk Gauge</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. CPU Busy :收集所有 cpu 内核 busy 状态占比</span><br><span class="line">type: Singlestat</span><br><span class="line">Unit: perent(0-100)</span><br><span class="line">(所有 cpu使用情况 - 5分钟内 cpu 空闲的平均值) / 所有 cpu使用情况</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line"> (((count(count(node_cpu_seconds_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;) by (cpu))) - avg(sum by (mode)(irate(node_cpu_seconds_total&#123;mode=&#x27;idle&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])))) * 100) / count(count(node_cpu_seconds_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;) by (cpu))</span><br><span class="line"></span><br><span class="line">最大值： 100%</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">2. Used RAM Memory free -m</span><br><span class="line">type: Singlestat</span><br><span class="line">Unit: perent(0-100)</span><br><span class="line">已使用的内存占比（包括Buffer缓存和Cached缓存）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">((node_memory_MemTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; - node_memory_MemFree_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;) / (node_memory_MemTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; )) * 100</span><br><span class="line"></span><br><span class="line">node_memory_MemFree_bytes 空闲内存</span><br><span class="line"></span><br><span class="line">已使用的内存占比（不包括Buffer缓存和Cached缓存）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">100 - ((node_memory_MemAvailable_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; * 100) / node_memory_MemTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;)</span><br><span class="line"></span><br><span class="line">MemAvailable: Free + Buffers ＋ Cached - 不可回收的部分。不可回收部分包括：共享内存段，tmpfs，ramfs等</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">3. Used SWAP: 交换分区使用率</span><br><span class="line">type: Singlestat</span><br><span class="line">Unit: perent(0-100)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">((node_memory_SwapTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; - node_memory_SwapFree_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;) / (node_memory_SwapTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; )) * 100</span><br><span class="line"></span><br><span class="line">node_memory_SwapFree_bytes 交换分区的空闲大小</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">4. Used Root FS 根文件系统使用率</span><br><span class="line">type: Singlestat</span><br><span class="line">Unit: perent(0-100)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">100 - ((node_filesystem_avail_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,mountpoint=&quot;/&quot;,fstype!=&quot;rootfs&quot;&#125; * 100) / node_filesystem_size_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,mountpoint=&quot;/&quot;,fstype!=&quot;rootfs&quot;&#125;)</span><br><span class="line"></span><br><span class="line">node_filesystem_avail_bytes 文件系统可用空间</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">5. CPU System Load (1m avg) 一分钟内 CPU 所有内核的平均负载率</span><br><span class="line">type: Singlestat</span><br><span class="line">Unit: perent(0-100)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">avg(node_load1&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;) /  count(count(node_cpu_seconds_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;) by (cpu)) * 100</span><br><span class="line"></span><br><span class="line">node_load1 : 系统一分钟内的负载</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">6. CPU System Load (5m avg) 五分钟内 CPU 所有内核的平均负载率</span><br><span class="line">type: Singlestat</span><br><span class="line">Unit: perent(0-100)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">avg(node_load5&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;) /  count(count(node_cpu_seconds_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;) by (cpu)) * 100</span><br><span class="line"></span><br><span class="line">node_load5 : 指5分钟内cpu的负载</span><br><span class="line">Basic CPU / Mem Graph</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">1. CPU Basic cpu 的基本信息 /proc/stat</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line"></span><br><span class="line">Busy System: cpu 处于核心态的占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (instance)(rate(node_cpu_seconds_total&#123;mode=&quot;system&quot;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Busy User: cpu 处于用户态的占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (instance)(rate(node_cpu_seconds_total&#123;mode=&#x27;user&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Busy Iowait: cpu 处于 io 等待的时间占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (instance)(rate(node_cpu_seconds_total&#123;mode=&#x27;iowait&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Busy IRQs: cpu 处于中断状态占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (instance)(rate(node_cpu_seconds_total&#123;mode=~&quot;.*irq&quot;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Idle: cpu 处于空闲状态占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (mode)(rate(node_cpu_seconds_total&#123;mode=&#x27;idle&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Busy Other: cpu 处于其他状态占比(非系统状态、非用户态、非io等待状态、非空闲态、非中断状态)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum (rate(node_cpu_seconds_total&#123;mode!=&#x27;idle&#x27;,mode!=&#x27;user&#x27;,mode!=&#x27;system&#x27;,mode!=&#x27;iowait&#x27;,mode!=&#x27;irq&#x27;,mode!=&#x27;softirq&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">2. Memory Basic 内存基本信息</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line"></span><br><span class="line">RAM Total: 内存大小</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_MemTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">RAM Used: 已使用的内存大小(内存总量-空闲的内存大小-Buffer缓存和Cached缓存占的内存大小)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_MemTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; - node_memory_MemFree_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; - (node_memory_Cached_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; + node_memory_Buffers_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;)</span><br><span class="line"></span><br><span class="line">RAM Cache + Buffer: Cached缓存占的内存大小</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Cached_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; + node_memory_Buffers_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">RAM Free: 空闲的内存大小</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_MemFree_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">SWAP Used: 已使用的交换内存的大小</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">(node_memory_SwapTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; - node_memory_SwapFree_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;)</span><br><span class="line">交换分区的总大小- 空闲大小</span><br><span class="line">Basic Net / Disk Info</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">1. Network Traffic Basic 每个接口的基本网络信息</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line"></span><br><span class="line">recv &#123;&#123;device&#125;&#125; 各个网络接口的下载量</span><br><span class="line">recv lo: 本地环回接口</span><br><span class="line">recv eth0: 以太网接口</span><br><span class="line">recv docker0: docker0 网络接口</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">rate(node_network_receive_bytes_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">trans &#123;&#123;device&#125;&#125; 各个网络接口的上传量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">rate(node_network_transmit_bytes_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">2. Disk Space Used Basic 所有挂载的文件系统的磁盘空间占比</span><br><span class="line">type: Graph</span><br><span class="line">unit: perent(0-100)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">100 - ((node_filesystem_avail_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device!~&#x27;rootfs&#x27;&#125; * 100) / node_filesystem_size_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device!~&#x27;rootfs&#x27;&#125;)</span><br><span class="line">CPU Memory Net Disk</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">1. CPU</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">max: &quot;100&quot;</span><br><span class="line">min: &quot;0&quot;</span><br><span class="line">Label: Percentage</span><br><span class="line"></span><br><span class="line">System - cpu 在内核模式下执行的进程占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (mode)(irate(node_cpu_seconds_total&#123;mode=&quot;system&quot;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">User - cpu 在用户模式下执行的正常进程占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (mode)(irate(node_cpu_seconds_total&#123;mode=&#x27;user&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Nice - cpu 在用户模式下执行的 nice 进程占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (mode)(irate(node_cpu_seconds_total&#123;mode=&#x27;nice&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Idle - cpu 在空闲模式下的占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (mode)(irate(node_cpu_seconds_total&#123;mode=&#x27;idle&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Iowait - cpu 在 io 等待的占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (mode)(irate(node_cpu_seconds_total&#123;mode=&#x27;iowait&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Irq - cpu 在服务中断的占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (mode)(irate(node_cpu_seconds_total&#123;mode=&#x27;irq&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Softirq - cpu 在服务软中断的占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (mode)(irate(node_cpu_seconds_total&#123;mode=&#x27;softirq&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Steal - 在 VM 中运行时其他 VM 占用的本 VM 的 cpu 的占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (mode)(irate(node_cpu_seconds_total&#123;mode=&#x27;steal&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br><span class="line"></span><br><span class="line">Guest - 运行各种 VM 使用的 CPU 占比</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">sum by (mode)(irate(node_cpu_seconds_total&#123;mode=&#x27;guest&#x27;,instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])) * 100</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">2. Memory Stack 内存堆栈 /proc/meminfo</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">min: &quot;0&quot;</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">Apps - 用户空间应用程序使用的内存</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_MemTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; - node_memory_MemFree_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; </span><br><span class="line">- node_memory_Buffers_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; - node_memory_Cached_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; </span><br><span class="line">- node_memory_Slab_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; - node_memory_PageTables_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; </span><br><span class="line">- node_memory_SwapCached_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">PageTables - 用于在虚拟和物理内存地址之间映射的内存</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_PageTables_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">SwapCache - 用于跟踪已从交换区中提取出来但尚未修改的页面的内存</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_SwapCached_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Slab - 内核用于缓存数据结构以供自己使用的内存（如 inode，dentry 等缓存）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Slab_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Cache - 频繁访问的文件数据或内容的缓存</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Cached_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Buffers - 块设备（例如硬盘）缓存</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Buffers_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Unused - 未使用的内存大小</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_MemFree_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Swap - 交换分区使用的空间</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">(node_memory_SwapTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125; - node_memory_SwapFree_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;)</span><br><span class="line"></span><br><span class="line">Harware Corrupted - 内核识别为已损坏或不工作的内存量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_HardwareCorrupted_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">3. Network Traffic 各个网络接口的传输速率</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes/sec</span><br><span class="line">Label: Bytes out(-)/in(+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Receive 各个网络接口下载速率</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_receive_bytes_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Transmit 各个网络接口上传速率</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_transmit_bytes_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">4. Disk Space Used 所有挂载的文件系统的磁盘空间大小</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">min: &quot;0&quot;</span><br><span class="line">Label: Bytes</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_filesystem_size_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device!~&#x27;rootfs&#x27;&#125; - node_filesystem_avail_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device!~&#x27;rootfs&#x27;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">5. Disk IOps 磁盘读写</span><br><span class="line">type: Graph</span><br><span class="line">Unit: I/O ops/sec (iops)</span><br><span class="line">Label: IO read(-)/write(+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Reads completed 磁盘的读取速率（五分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_reads_completed_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device=~&quot;[a-z]*[a-z]&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Writes completed 磁盘的写入速率（五分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_writes_completed_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device=~&quot;[a-z]*[a-z]&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">6. I/O Usage Read / Write</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes read(-)/write(+)</span><br><span class="line"></span><br><span class="line">成功读取的字节数（五分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_read_bytes_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device=~&quot;[a-z]*[a-z]&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">成功写入的字节数（五分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_written_bytes_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device=~&quot;[a-z]*[a-z]&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">7. I/O Usage Times 使用 I/O 的毫秒数</span><br><span class="line">type: Graph</span><br><span class="line">Unit: ms</span><br><span class="line">Label: Milliseconds</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_io_time_seconds_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device=~&quot;[a-z]*[a-z]&quot;&#125; [5m])</span><br><span class="line">Memory Detail Meminfo /proc/meminfo</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1. Memory Active / Inactive</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">Inactive - 最近使用较少的内存, 优先被回收利用 /proc/meminfo Inactive</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Inactive_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Active - 最近被频繁使用的内存，除非绝对必要，否则通常不会回收 /proc/meminfo Active</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Active_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2. Memory Commited</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">Committed_AS - 当前系统已经分配的内存量，包括已分配但尚未使用的内存大小 /proc/meminfo Committed_AS</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Committed_AS_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">CommitLimit - 当前系统可分配的内存量 /proc/meminfo CommitLimit</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_CommitLimit_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">3. Memory Active / Inactive Detail</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">Inactive_file - LRU list 上长时间未被访问过的与文件对应的内存页 /proc/meminfo LRU_INACTIVE_FILE</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Inactive_file_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Inactive_anon - 上长时间未被访问过的匿名页和交换区缓存（包括 tmpfs） /proc/meminfo LRU_INACTIVE_ANON</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Inactive_anon_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Active_file - LRU list 最近被访问过的与文件对应的内存页 /proc/meminfo LRU_ACTIVE_FILE</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Active_file_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Active_anon - 最近被访问过的匿名页和交换区缓存（包括 tmpfs） /proc/meminfo LRU_ACTIVE_ANON</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Active_anon_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">4. Memory Writeback and Dirty</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">Writeback - 正准备主动回写硬盘的缓存页 /proc/meminfo Writeback</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Writeback_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">WritebackTmp - FUSE用于临时写回缓冲区的内存 /proc/meminfo WritebackTmp</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_WritebackTmp_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Dirty - 需要写回磁盘的数据大小 /proc/meminfo Dirty</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Dirty_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">5. Memory Shared and Mapped</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">Mapped - mapped 缓存页占用的内存 /proc/meminfo Mapped</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Mapped_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Shmem - 共享内存 /proc/meminfo Shared</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Shmem_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">6. Memory Slab</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">SUnreclaim - 通过slab分配的内存中不可回收的部分 /proc/meminfo SUnreclaim</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_SUnreclaim_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">SReclaimable - 通过slab分配的内存中可回收的部分 /proc/meminfo SReclaimable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_SReclaimable_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">7. Memory Vmalloc</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">VmallocChunk - vmalloc 可分配的最大的逻辑连续的内存大小 /proc/meminfo VmallocChunk</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_VmallocChunk_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">VmallocTotal - vmalloc 可使用的总内存大小 /proc/meminfo VmallocTotal</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_VmallocTotal_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">VmallocUsed - vmalloc 已用的总内存大小 /proc/meminfo VmallocUsed</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_VmallocUsed_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">8. Memory Bounce /proc/meminfo Bounce</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">Bounce - bounce buffers 占用的内存</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Bounce_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">9. Memory Anonymous</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">AnonHugePages - AnonHugePages 占用的内存大小 /proc/meminfo AnonHugePages</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_AnonHugePages_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">AnonPages - 用户进程中匿名内存页大小 /proc/meminfo AnonPages</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_AnonPages_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">0. Memory Kernel /proc/meminfo KernelStack</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">KernelStack - 内核栈大小（常驻内存，不可回收）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_KernelStack_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">1. Memory HugePages Counter</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">HugePages_Free - 系统当前总共拥有的空闲 HugePages 数目 /proc/meminfo HugePages_Free</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_HugePages_Free&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">HugePages_Rsvd - 系统当前总共保留的HugePages数目，更具体点就是指程序已经向系统申请，但是由于程序还没有实质的HugePages读写操作，因此系统尚未实际分配给程序的HugePages数目 /proc/meminfo HugePages_Rsvd</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_HugePages_Rsvd&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">HugePages_Surp - 指超过系统设定的常驻HugePages数目的数目 /proc/meminfo HugePages_Surp</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_HugePages_Surp&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">2. Memory HugePages Size</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">HugePages - 系统当前总共拥有的HugePages数目 /proc/meminfo HugePages</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_HugePages_Total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Hugepagesize - 每一页 HugePages 的大小 /proc/meminfo Hugepagesize</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Hugepagesize_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">3. Memory DirectMap /proc/meminfo DirectMap</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">DirectMap1G - 映射为 1G 的内存页的内存数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_DirectMap1G&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">DirectMap2M - 映射为 2M 的内存页的内存数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_DirectMap2M_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">DirectMap4K - 映射为 4kB 的内存页的内存数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_DirectMap4k_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">4. Memory Unevictable and MLocked</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">Unevictable - 不可被回收的内存 /proc/meminfo Unevictable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Unevictable_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">MLocked - 被mlock()系统调用锁定的内存大小 /proc/meminfo MLocked</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_Mlocked_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">5. Memory NFS /proc/meminfo NFS_Unstable</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">NFS Unstable - 发给NFS server但尚未写入硬盘的缓存页</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_memory_NFS_Unstable_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line">Memory Detail Vmstat</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1. Memory Pages In / Out</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Pagesin - 数据从硬盘读到物理内存的速率(5分钟内) /proc/vmstat pgpgin</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgpgin&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pagesout - 数据从物理内存写到硬盘的速率(5分钟内) /proc/vmstat pgpgout</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgpgout&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2. Memory Pages Swap In / Out</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Pswpin - 数据从磁盘交换区装入内存的速率(5分钟内) /proc/vmstat pswpin</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pswpin&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pswpout - 数据从内存转储到磁盘交换区的速率(5分钟内) /proc/vmstat pswpout</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pswpout&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">3. Memory Page Operations</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Pgdeactivate - 激活的平均页数(5分钟内) /proc/vmstat pgdeactivate</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgdeactivate&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgfree - 释放的平均页数(5分钟内) /proc/vmstat pgfree</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgfree&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgactivate - 未激活的平均页数(5分钟内) /proc/vmstat pgactivate</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgactivate&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">4. Memory Page Faults</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Faults</span><br><span class="line"></span><br><span class="line">Pgfault - 一级页面和二级页面的平均错误数(5分钟内) /proc/vmstat pgfault</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgfault&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgmajfault - 一级页面的平均错误数(5分钟内) /proc/vmstat pgmajfault</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgmajfault&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgminfault - 二级页面的平均错误数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgfault&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])  - irate(node_vmstat_pgmajfault&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">5. Memory Pages Reclaimed</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Kswapd_inodesteal - 由 kswapd 回收用于其它目的的平均页面数(5分钟内) /proc/vmstat kswapd_inodesteal</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_kswapd_inodesteal&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgindesteal - 由 inode 释放回收的平均页面数(5分钟内) /proc/vmstat pgindesteal</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pginodesteal&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">6. Memory Calls Reclaimed</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Cells</span><br><span class="line"></span><br><span class="line">Pageoutrun - 由 kswapd调用来回收的平均页面数(5分钟内) /proc/vmstatpageoutrun</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pageoutrun&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Allocstall - 请求直接回收的平均页面数(5分钟内) /proc/vmstat allocstall</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_allocstall&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Zone_reclaim_failed - 内存域回收失败的平均页面数(5分钟内) /proc/vmstat zone_reclaim_failed</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_zone_reclaim_failed&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">7. Memory Page Rotate /proc/vmstat pgrotated</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Pgrotated - 轮换的平均页面数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgrotated&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">8. Memory Page Drop</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Cells</span><br><span class="line"></span><br><span class="line">Drop_pagecache - 调用释放缓存的平均页面数(5分钟内) /proc/vmstat drop_pagecache</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_drop_pagecache&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Drop_slab - 调用释放 slab 缓存的平均页面数(5分钟内) /proc/vmstat drop_slab</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_drop_slab&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br></pre></td><td class="code"><pre><span class="line">9. Memory Scan Slab /proc/vmstat slabs_scanned</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line"></span><br><span class="line">Slabs_scanned - 被扫描的 Slab 页面的平均页面数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_slabs_scanned&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">0. Memory Unevictable Pages</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Unevictable_pgs_cleared - Unevictable pages cleared</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_unevictable_pgs_cleared&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Unevictable_pgs_culled - Unevictable pages culled</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_unevictable_pgs_culled&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Unevictable_pgs_mlocked - Unevictable pages mlocked</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_unevictable_pgs_mlocked&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Unevictable_pgs_munlocked - Unevictable pages munlocked</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_unevictable_pgs_munlocked&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Unevictable_pgs_rescued- Unevictable pages rescued</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_unevictable_pgs_rescued&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Unevictable_pgs_scanned - Unevictable pages scanned</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_unevictable_pgs_scanned&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">unevictable_pgs_stranded - Unevictable pages stranded</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_unevictable_pgs_stranded&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">1. Memory Page Allocation</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Pgalloc_dma - DMA 存储区分配的平均页数(5分钟内) /proc/vmstat pgalloc_dma</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgalloc_dma&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgalloc_dma32 - DMA32 存储区分配的平均页数(5分钟内) /proc/vmstat pgalloc_dma32</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgalloc_dma32&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgalloc_movable - movable 存储区分配的平均页数(5分钟内) /proc/vmstat pgalloc_movable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgalloc_movable&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgalloc_normal - 普通存储区分配的平均页数(5分钟内) /proc/vmstat pgalloc_normal</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgalloc_normal&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">2. Memory Page Refill</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Pgrefill_dma - DMA 再填充的平均页数(5分钟内) /proc/vmstat pgrefill_dma</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgrefill_dma&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgrefill_dma32 - DMA32 存储区再填充的平均页数(5分钟内) /proc/vmstat pgrefill_dma32</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgrefill_dma32&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgrefill_movable - movable 存储区再填充的平均页数(5分钟内) /proc/vmstat pgrefill_movable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgrefill_movable&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgrefill_normal - 普通存储区再填充的平均页数(5分钟内) /proc/vmstat pgrefill_normal</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgrefill_normal&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">3. Memory Page Steal Direct</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Pgsteal_direct_dma - DMA 存储区被直接回收用于其它目的的平均页面数(5分钟内) /proc/vmstat pgsteal_direct_dma</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgsteal_direct_dma&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgsteal_direct_dma32 - DMA32 存储区被直接回收用于其它目的的平均页面数(5分钟内) /proc/vmstat pgsteal_direct_dma32</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgsteal_direct_dma32&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgsteal_direct_movable - movable 存储区被直接回收用于其它目的的平均页面数(5分钟内) /proc/vmstat pgsteal_direct_movable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgsteal_direct_movable&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgsteal_direct_normal - 普通存储区被直接回收用于其它目的的平均页面数(5分钟内) /proc/vmstat pgsteal_direct_normal</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgsteal_direct_normal&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">4. Memory Page Steal Kswapd</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Pgsteal_kswapd_dma - kswapd 后台进程回收 DMA 存储区用于其它目的的平均页面数(5分钟内) /proc/vmstat pgsteal_kswapd_dma</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgsteal_kswapd_dma&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgsteal_kswapd_dma32 - kswapd 后台进程回收 DMA32 存储区用于其它目的的平均页面数(5分钟内) /proc/vmstat pgsteal_kswapd_dma32</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgsteal_kswapd_dma32&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgsteal_kswapd_movable - kswapd 后台进程回收 movable 存储区用于其它目的的平均页面数(5分钟内 /proc/vmstat pgsteal_kswapd_movable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgsteal_kswapd_movable&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgsteal_kswapd_normal - swapd后台进程回收普通存储区用于其它目的的平均页面数(5分钟内 /proc/vmstat pgsteal_kswapd_normal</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgsteal_kswapd_normal&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">5. Memory Scan Direct</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Pgscan_direct_dma - DMA 存储区被直接回收的平均页面数(5分钟内) /proc/vmstat pgscan_direct_dma</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgscan_direct_dma&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgscan_direct_dma32 - DMA32 存储区被直接回收的平均页面数(5分钟内) /proc/vmstat pgscan_direct_dma32</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgscan_direct_dma32&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgscan_direct_movable - movable 存储区被直接回收的平均页面数(5分钟内) /proc/vmstat pgscan_direct_movable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgscan_direct_movable&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgscan_direct_normal - 普通存储区被直接回收的平均页面数(5分钟内) /proc/vmstat pgscan_direct_normal</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgscan_direct_normal&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgscan_direct_throttle - throttle 存储区被直接回收的平均页面数(5分钟内) /proc/vmstat pgscan_direct_throttle</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgscan_direct_throttle&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">6. Memory Scan Kswapd</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Pgscan_kswapd_dma - kswapd 后台进程扫描的 DMA 存储区平均页面数(5分钟内) /proc/vmstat pgscan_kswapd_dma</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgscan_kswapd_dma&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgscan_kswapd_dma32 - kswapd 后台进程扫描的 DMA32 存储区平均页面数(5分钟内) /proc/vmstat pgscan_kswapd_dma32</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgscan_kswapd_dma32&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgscan_kswapd_movable - kswapd 后台进程扫描的 movable 存储区平均页面数(5分钟内) /proc/vmstat pgscan_kswapd_movable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgscan_kswapd_movable&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgscan_kswapd_normal - kswapd 后台进程扫描的普通存储区平均页面数(5分钟内） /proc/vmstat pgscan_kswapd_normal</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgscan_kswapd_normal&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">7. Memory Page Compact</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Compact_free_scanned - 扫描由压缩守护程序释放的页面 /proc/vmstat compact_free_scanned</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_compact_free_scanned&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Compact_isolated - 用于内存压缩隔离的页面 /proc/vmstat compact_isolated</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_compact_isolated&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Compact_migrate_scanned - 通过内存压缩守护程序扫描以进行迁移的页面 /proc/vmstat compact_migrate_scanned</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_compact_migrate_scanned&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">8. Memory Compactions 内存紧缩</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Compactions</span><br><span class="line"></span><br><span class="line">Compact_fail - 高阶分配的内存碎片整理失败的页面数(5分钟内) /proc/vmstat compact_fail</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_compact_fail&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Compact_stall - 开始执行内存碎片失败的页面数(5分钟内) /proc/vmstat compact_stall</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_compact_stall&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Compact_sucess - 高阶分配的内存碎片整理成功的页面数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_compact_success&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">9. Memory Kswapd Watermark</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">Kswapd_high_wmark_hit_quickly - 剩余内存达到 high 的水位线的时间 /proc/vmstat kswapd_high_wmark_hit_quickly</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_kswapd_high_wmark_hit_quickly&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Kswapd_low_wmark_hit_quickly - - 剩余内存达到 low 的水位线的时间 /proc/vmstat kswapd_low_wmark_hit_quickly</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_kswapd_low_wmark_hit_quickly&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">0. Memory Buddy Alloc</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Allocations</span><br><span class="line"></span><br><span class="line">Htlb_buddy_alloc_fail - buddy 给 hugetlb 分配失败的次数 /proc/vmstat htlb_buddy_alloc_fail</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_htlb_buddy_alloc_fail&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Htlb_buddy_alloc_success - buddy 给 hugetlb 分配成功的次数 /proc/vmstat htlb_buddy_alloc_success</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_htlb_buddy_alloc_success&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">1. Memory Numa Allocations</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Allocations</span><br><span class="line"></span><br><span class="line">Numa_foreign - 计划使用其他节点内存但是却使用本地内存次数 /proc/vmstat numa_foreign</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_foreign&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Numa_hit - 使用本节点内存次数 /proc/vmstat numa_hit</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_hit&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Numa_interleave - 交叉分配使用的内存中使用本节点的内存次数 /proc/vmstat numa_interleave</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_interleave&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Numa_local - 在本节点运行的程序使用本节点内存次数 /proc/vmstat numa_local</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_local&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Numa_miss - 计划使用本节点内存而被调度到其他节点次数 /proc/vmstat numa_miss</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_miss&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Numa_other - 在其他节点运行的程序使用本节点内存次数 /proc/vmstat numa_other</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_other&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">2. Memory Numa Page Migrations</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Numa_pages_migrated - NUMA page 数 /proc/vmstat numa_pages_migrated</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_pages_migrated&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgmigrate_fail - 迁移失败的页面数 /proc/vmstat pgmigrate_fail</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgmigrate_fail&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Pgmigrate_success - 成功迁移的页面数 /proc/vmstat pgmigrate_success</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_pgmigrate_success&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">3. Memory Numa Hints</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Hints</span><br><span class="line"></span><br><span class="line">Numa_hint_faults - NUMA hint faults trapped</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_hint_faults&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Numa_hint_faults_local - Hinting faults to local nodes</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_hint_faults_local&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">4. Memory Numa Table Updates</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Updates</span><br><span class="line"></span><br><span class="line">Numa_pte_updates - NUMA page table entry updates</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_pte_updates&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Numa_huge_pte_updates - NUMA huge page table entry updates</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_numa_huge_pte_updates&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">5. Memory THP Splits</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Splits</span><br><span class="line"></span><br><span class="line">Thp_split - 大型页面分割成多个常规页面 /proc/vmstat thp_split</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_thp_split&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">6. Memory Workingset</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">Workingset_activate - Page activations to form the working set</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_workingset_activate&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Workingset_nodereclaim - NUMA node working set page reclaims</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_workingset_nodereclaim&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Workingset_refault - Refaults of previously evicted pages</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_workingset_refault&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">7. Memory THP Allocations</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Allocations</span><br><span class="line"></span><br><span class="line">Thp_collapse_alloc - Transparent huge page collapse allocations</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_thp_collapse_alloc&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Thp_collapse_alloc_failed - Transparent huge page collapse allocation failures</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_thp_collapse_alloc_failed&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Thp_zero_page_alloc - Transparent huge page zeroed page allocations</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_thp_zero_page_alloc&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Thp_zero_page_alloc_failed - Transparent huge page zeroed page allocation failures</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_thp_zero_page_alloc_failed&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Thp_fault_alloc - Transparent huge page fault allocations</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_thp_fault_alloc&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Thp_fault_fallback - Transparent huge page fault fallbacks</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_vmstat_thp_fault_fallback&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line">Memory Detail Vmstat Counters</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1. Memory Page Active</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Active_anon - pages最近被使用过的匿名虚拟内存页 /proc/vmstat nr_active_anon</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_active_anon&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Active_file - 最近被使用过的文件虚拟内存页 /proc/vmstat nr_active_file</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_active_file&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2. Memory Page Reclaimed / Unreclaimed</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Reclaimable - 可回收的 slab 虚拟内存页 /proc/vmstat nr_slab_reclaimable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_slab_reclaimable&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Unreclaimable - 不可回收的 slab 虚拟内存页 /proc/vmstat nr_slab_unreclaimable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_slab_unreclaimable&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">3. Memory Page Inactive</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Inactive_anon - 每个 NUMA node 的每个域中的长时间未被访问过的匿名内存页 /proc/vmstat nr_inactive_anon</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_inactive_anon&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Inactive_file - 每个 NUMA node 的每个域中的长时间未被访问过的与文件对应的内存页 /proc/vmstat nr_inactive_file</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_inactive_file&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">4. Memory Page Dirty / Bounce</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Dirty - 脏页数 /proc/vmstat nr_dirty</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_dirty&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Bounce - Bounce buffer 页面数 /proc/vmstat nr_bounce</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_bounce&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">5. Memory Page Free / Written</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Free_pages - 空闲页数 /proc/vmstat nr_free_pages</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_free_pages&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Written - 每个 NUMA node 的每个域中写出的页面 /proc/vmstat nr_written</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_written&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">6.Memory Page Shmem / Mapped</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Shmem - 共享内存页数 /proc/vmstat nr_shmem</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_shmem&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Mapped - 每个 NUMA node 的每个域 mapped 缓存页的页数 /proc/vmstat nr_mapped</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_mapped&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">7.Memory Page Unevictable / MLock</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Unevictable - 不可回收的页数 /proc/vmstat nr_unevictable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_unevictable&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Mlock - 被 mlock()系统调用锁定的页数 /proc/vmstat nr_mlock</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_mlock&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">8.Memory Page Writeback</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Writeback - 回写页数 /proc/vmstat nr_writeback</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_writeback&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Writeback_temp - 临时回写页数 /proc/vmstat nr_writeback_temp</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_writeback_temp&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br></pre></td><td class="code"><pre><span class="line">9.Memory Page Kernel_stack</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Kernel_stack - 内核栈的页数 /proc/vmstat nr_kernel_stack</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_kernel_stack&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">0.Memory Page Dirty Threshold</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Dirty_background_threshold - 脏页后台回写阈值 /proc/vmstat nr_dirty_background_threshold</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_dirty_background_threshold&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Dirty_threshold - 脏页限制阈值 /proc/vmstat nr_dirty_threshold</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_dirty_threshold&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">1.Memory Page File_pages</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">File_pages - 每个 NUMA node 的每个域文件缓存页的页数 /proc/vmstat nr_file_pages</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_file_pages&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">2.Memory Page Page_table_pages</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Page_table_pages - 每个 NUMA node 的每个域页面表的页数 /proc/vmstat nr_page_table_pages</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_page_table_pages&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">3.Memory Page Unstable / Dirtied</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Unstable - 每个 NUMA node 的每个域中处于不稳定页面的页数 /proc/vmstat nr_unstable</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_unstable&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Dirtied - 每个 NUMA node 的每个域中进入脏页面的页数 /proc/vmstat nr_dirtied</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_dirtied&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">4.Memory Page Isolated</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Isolated_anon - 每个 NUMA node 的每个域中隔离的匿名内存页面的页数 /proc/vmstat nr_isolated_anon</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_isolated_anon&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Isolated_file - 每个 NUMA node 的每个域中隔离的文件存储页面的页数 /proc/vmstat nr_isolated_file</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_isolated_file&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">5.Memory Page Alloc_batch</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Alloc_batch - 每个 NUMA node 的每个域中由于内存不足分配给其他域的页面 /proc/vmstat nr_alloc_batch</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_alloc_batch&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">6.Memory Page Misc</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Free_cma - 每个 NUMA node 的每个域中空闲的连续内存分配器页面 /proc/vmstat nr_free_cma</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_free_cma&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Vmscan_write - LRU 内存回收写入的页面 /proc/vmstat nr_vmscan_write</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_vmscan_write&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Immediate_reclaim - 每个 NUMA node 的每个域中当回写结束时优先回收的页面 /proc/vmstat nr_vmscan_immediate_reclaim</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_vmscan_immediate_reclaim&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">7.Memory Page Anon</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Pages</span><br><span class="line"></span><br><span class="line">Anon_pages - 每个 NUMA node 的每个域中匿名 mapped 缓存页 /proc/vmstat nr_anon_pages</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_anon_pages&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Anon_transparent_hugepages - 每个 NUMA node 的每个域中 THP(Transparent Huge Pages) /proc/vmstat nr_anon_transparent_hugepages</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_vmstat_nr_anon_transparent_hugepages&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line">System Detail</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1. Context Switches / Interrupts</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">Context switches - CPU 的 context switch 平均次数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_context_switches_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Interrupts - 服务的平均中断总数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_intr_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">2. System Load</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Load</span><br><span class="line"></span><br><span class="line">Load 1m - 系统1分钟内的平均负载</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_load1&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Load 5m - 系统5分钟内的平均负载</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_load5&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Load 15m - 系统15分钟内的平均负载</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_load15&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">3. Interrupts Detail /proc/interrupts</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">&#123;&#123; type &#125;&#125; - &#123;&#123; info &#125;&#125; - 当前系统的软中断列表和对应的中断号平均中断次数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_interrupts_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">4. File Descriptors</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Descriptors</span><br><span class="line"></span><br><span class="line">Maximum open file descriptors - 最大打开文件描述符数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">process_max_fds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Open file descriptors - 打开文件描述符的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">process_open_fds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">5. Entropy</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Entropy</span><br><span class="line"></span><br><span class="line">Entropy available to random number generators</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_entropy_available_bits&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">6. Processes State</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Processes</span><br><span class="line"></span><br><span class="line">Processes blocked - 当前被阻塞的任务的数目 /proc/stat procs_blocked</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_procs_blocked&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">Processes in runnable state - 当前运行队列的任务的数目 /proc/stat procs_running</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_procs_running&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">7. Processes Forks</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Forks / sec</span><br><span class="line"></span><br><span class="line">Processes forks second - 每秒创建的进程个数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">rate(node_forks_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">8. Processes Memory</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">进程占用的虚拟内存的大小:</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">process_virtual_memory_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">进程常驻内存大小:</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">process_resident_memory_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">9. Time Syncronized Status</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">时钟是否与一个可靠的服务器同步:</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_timex_sync_status&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">本地时钟调整频率:</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_timex_frequency_adjustment_ratio&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">0. Time Syncronized Drift</span><br><span class="line">type: Graph</span><br><span class="line">Unit: seconds</span><br><span class="line">Label: Seconds</span><br><span class="line"></span><br><span class="line">估算误差(秒):</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_timex_estimated_error_seconds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">本地系统和参考时钟之间的时间偏移:</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_timex_offset_seconds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">最大误差(秒):</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_timex_maxerror_seconds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">1. Hardware temperature monitor 硬件的温度监控</span><br><span class="line">type: Graph</span><br><span class="line">Unit: Celsius(摄氏度)</span><br><span class="line">Label: Temperature</span><br><span class="line"></span><br><span class="line">&#123;&#123; chip &#125;&#125; &#123;&#123; sensor &#125;&#125; temp -</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_hwmon_temp_celsius&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123; chip &#125;&#125; &#123;&#123; sensor &#125;&#125; Critical Alarm</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_hwmon_temp_crit_alarm_celsius&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123; chip &#125;&#125; &#123;&#123; sensor &#125;&#125; Critical</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_hwmon_temp_crit_celsius&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123; chip &#125;&#125; &#123;&#123; sensor &#125;&#125; Critical Historical</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_hwmon_temp_crit_hyst_celsius&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123; chip &#125;&#125; &#123;&#123; sensor &#125;&#125; Max</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_hwmon_temp_max_celsius&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line">Disk Datail /proc/diskstats</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1. Disk IOps Completed</span><br><span class="line">type: Graph</span><br><span class="line">Unit: I/O ops/sec(iops)</span><br><span class="line">Label: IO read(-)/write(+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Reads completed: 每个磁盘分区每秒读完成次数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_reads_completed_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Writes completed: 每个磁盘分区每秒写完成次数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_writes_completed_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2. Disk R/W Data</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes/sec</span><br><span class="line">Label: Bytes read(-)/write(+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Read bytes 每个磁盘分区每秒读取的比特数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_read_bytes_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Written bytes 每个磁盘分区每秒写入的比特数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_written_bytes_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">3. Disk R/W Time</span><br><span class="line">type: Graph</span><br><span class="line">Unit: Milliseconds(ms)</span><br><span class="line">Label: Millisec. read(-)/write(+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Read time ms 每个磁盘分区读花费的毫秒数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_read_time_seconds_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Write time ms 每个磁盘分区写操作花费的毫秒数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_write_time_seconds_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4. Disk IOs Weighted</span><br><span class="line">type: Graph</span><br><span class="line">Unit: Milliseconds(ms)</span><br><span class="line">Label: Milliseconds</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - IO time weighted 每个磁盘分区输入/输出操作花费的加权毫秒数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_io_time_weighted_seconds_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">5. Disk R/W Merged</span><br><span class="line">type: Graph</span><br><span class="line">Unit: I/O ops/sec(iops)</span><br><span class="line">Label: I/Os</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Read merged 每个磁盘分区每秒合并读完成次数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_reads_merged_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Write merged 每个磁盘分区每秒合并写完成次数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_writes_merged_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">6. Milliseconds Spent Doing I/Os</span><br><span class="line">type: Graph</span><br><span class="line">Unit: Milliseconds(ms)</span><br><span class="line">Label: Milliseconds</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - IO time ms 每个磁盘分区输入/输出操作花费的毫秒数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_io_time_seconds_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">7. Disk IOs Current in Progress</span><br><span class="line">type: Graph</span><br><span class="line">Unit: I/O ops/sec(iops)</span><br><span class="line">Label: I/Os</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - IO now 每个磁盘分区每秒正在处理的输入/输出请求数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_disk_io_now&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">8. Open Error File</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Errors</span><br><span class="line"></span><br><span class="line">Textfile scrape error (1 = true) 打开文件错误的个数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line"> node_textfile_scrape_error&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line">FileSystem Detail /proc/filesystems</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">1. Filesystem space available</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">&#123;&#123;mountpoint&#125;&#125; - 挂载的文件系统可用空间</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_filesystem_avail_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device!~&#x27;rootfs&#x27;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123;mountpoint&#125;&#125; - 挂载的文件系统剩余空间</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_filesystem_free_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device!~&#x27;rootfs&#x27;&#125;</span><br><span class="line"></span><br><span class="line">&#123;&#123;mountpoint&#125;&#125; - 挂载的文件系统占用空间</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_filesystem_size_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device!~&#x27;rootfs&#x27;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2. File Nodes Free</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: File Nodes</span><br><span class="line"></span><br><span class="line">&#123;&#123;mountpoint&#125;&#125; - 挂载的文件系统空闲的文件节点个数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_filesystem_files_free&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device!~&#x27;rootfs&#x27;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">3. File Descriptor</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Files</span><br><span class="line"></span><br><span class="line">最大打开文件描述符数：</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_filefd_maximum&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">打开文件描述符数:</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_filefd_allocated&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4. File Nodes Size</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: File Nodes</span><br><span class="line"></span><br><span class="line">&#123;&#123;mountpoint&#125;&#125; - File nodes total：挂载的文件系统的文件节点大小</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_filesystem_files&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device!~&#x27;rootfs&#x27;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">5. Filesystem in ReadOnly</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Read Only</span><br><span class="line"></span><br><span class="line">&#123;&#123;mountpoint&#125;&#125; - ReadOnly 只读模式挂载的文件系统</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_filesystem_readonly&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;,device!~&#x27;rootfs&#x27;&#125;</span><br><span class="line">Network Traffic Detail /proc/net/dev</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1. Network Traffic by Packets</span><br><span class="line">type: Graph</span><br><span class="line">Unit: packets/sec</span><br><span class="line">Label: Packets out (-) / in (+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Receive 各个接口每秒接收的数据包总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_receive_packets_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Transmit 各个接口每秒发送的数据包总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_transmit_packets_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2. Network Traffic Errors</span><br><span class="line">type: Graph</span><br><span class="line">Unit: packets/sec</span><br><span class="line">Label: Packets out (-) / in (+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Receive errors 监测到各个接口每秒接收的错误数据包总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_receive_errs_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Rransmit errors 监测到各个接口每秒发送的错误数据包总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_transmit_errs_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">3. Network Traffic Drop</span><br><span class="line">type: Graph</span><br><span class="line">Unit: packets/sec</span><br><span class="line">Label: Packets out (-) / in (+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Receive drop 各个接口每秒接收的丢弃的数据包总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_receive_drop_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Transmit drop 各个接口每秒发送的丢弃的数据包总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_transmit_drop_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">4. Network Traffic Compressed</span><br><span class="line">type: Graph</span><br><span class="line">Unit: packets/sec</span><br><span class="line">Label: Packets out (-) / in (+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Receive compressed 各个接口每秒接收的压缩数据包总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_receive_compressed_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Transmit compressed 各个接口每秒发送的压缩数据包总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_transmit_compressed_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">5. Network Traffic Multicast</span><br><span class="line">type: Graph</span><br><span class="line">Unit: packets/sec</span><br><span class="line">Label: Packets out (-) / in (+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Receive multicast 各个接口每秒接收的多播包数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_receive_multicast_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">6. Network Traffic Fifo</span><br><span class="line">type: Graph</span><br><span class="line">Unit: packets/sec</span><br><span class="line">Label: Packets out (-) / in (+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Receive fifo 各个接口每秒接收的 fifo 包总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_receive_fifo_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Transmit fifo 各个接口每秒发送的 fifo 包总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_transmit_fifo_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">7. Network Traffic Frame</span><br><span class="line">type: Graph</span><br><span class="line">Unit: packets/sec</span><br><span class="line">Label: Packets out (-) / in (+)</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Receive frame 各个接口每秒接收的帧数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_receive_frame_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">8. Network Traffic Carrier</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Statistic transmit_carrier 由各个接口检测到的载波损耗的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_transmit_carrier_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">9. Network Traffic Colls</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">&#123;&#123;device&#125;&#125; - Transmit colls 各个接口上检测到的冲突数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_network_transmit_colls_total&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">0. NF Contrack</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Entries</span><br><span class="line"></span><br><span class="line">NF conntrack entries 跟踪连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_nf_conntrack_entries&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">NF conntrack limit</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_nf_conntrack_entries_limit&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">1. ARP Entries</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Entries</span><br><span class="line"></span><br><span class="line">&#123;&#123; device &#125;&#125; - ARP entries 各个接口上 ARP 表中包的统计</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_arp_entries&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line">Network Sockstat proc/net/sockstat</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">1. Sockstat TCP</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Sockets</span><br><span class="line"></span><br><span class="line">TCP_alloc - 已分配（已建立、已申请到sk_buff）的TCP套接字数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_TCP_alloc&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">TCP_inuse - 正在使用（正在侦听）的TCP套接字数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_TCP_inuse&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">TCP_mem - TCP 套接字缓冲区使用量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_TCP_mem&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">TCP_orphan - 无主（不属于任何进程）的TCP连接数（无用、待销毁的TCP socket数）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_TCP_orphan&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">TCP_tw - 等待关闭的TCP连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_TCP_tw&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">2. Sockstat UDP</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Sockets</span><br><span class="line"></span><br><span class="line">UDPLITE_inuse - 正在使用的 UDP-Lite 套接字数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_UDPLITE_inuse&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">UDP_inuse - 正在使用的 UDP 套接字数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_UDP_inuse&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">UDP_mem - UDP 套接字缓冲区使用量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_UDP_mem&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">3. Sockstat Used</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Sockets</span><br><span class="line"></span><br><span class="line">Sockets_used - 已使用的所有协议套接字总量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_sockets_used&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">4. Sockstat Memory Size</span><br><span class="line">type: Graph</span><br><span class="line">Unit: bytes</span><br><span class="line">Label: Bytes</span><br><span class="line"></span><br><span class="line">TCP_mem_bytes - TCP 套接字缓冲区比特数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_TCP_mem_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">UDP_mem_bytes - UDP 套接字缓冲区比特数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_UDP_mem_bytes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">5. Sockstat FRAG / RAW</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Sockets</span><br><span class="line"></span><br><span class="line">FRAG_inuse - 正在使用的 Frag 套接字数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_FRAG_inuse&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">FRAG_memory - 使用的 Frag 缓冲区</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_FRAG_memory&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">RAW_inuse - 正在使用的 Raw 套接字数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_sockstat_RAW_inuse&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line">Network Netstat /proc/net/netstat</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">1. Netstat IP In / Out</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InReceives - 接收到的 ip 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_InReceives&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">DefaultTTL - 接收的默认生存时间的 IP 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_DefaultTTL&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InDelivers - 传递的 IP 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_InDelivers&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutRequests - 发送的 ip 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_OutRequests&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2. Netstat IP In / Out</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Octets out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InOctets - 接收到的 ip 数据报（octets）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InOctets&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutOctets - 发送的 ip 数据报（octets）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_OutOctets&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">3. Netstat IP Bcast</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InBcastPkts - 接收的 IP 广播数据报报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InBcastPkts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutBcastPkts - 发送的 IP 广播数据报报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_OutBcastPkts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">4. Netstat IP Bcast Octets</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Octets out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InBcastOctets - 接收的 IP 广播数据报 octet 数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InBcastOctets&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutBcastOctets - 发送的 IP 广播数据报 octet 数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_OutBcastOctets&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">5. Netstat IP Mcast</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InMcastPkts - 接收的 IP 多播数据报报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InMcastPkts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutMcastPkts - 发送的 IP 多播数据报报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_OutMcastPkts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">6. Netstat IP Mcast Octets</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Octets out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InMcastOctets - 接收的 IP 多播数据报octet 数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InMcastOctets&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutMcastOctets - 发送的 IP 多播数据报报文 octet 数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_OutMcastOctets&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">7. Netstat IP Forwarding</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams</span><br><span class="line"></span><br><span class="line">ForwDatagrams - IP 转发报文数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_ForwDatagrams&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">Forwarding - IP 转发</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_Forwarding&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">8. Netstat IP Fragmented</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams</span><br><span class="line"></span><br><span class="line">FragCreates - 创建的 IP 分片报文数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_FragCreates&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">FragFails - 失败的 IP 分片报文数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_FragFails&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">FragOKs - 成功的 IP 分片报文数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_FragOKs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">9. Netstat IP ECT / CEP</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams</span><br><span class="line"></span><br><span class="line">InCEPkts - 拥塞转发的数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InCEPkts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InECT0Pkts - 接收到的带有 ECT(0) 代码点的 ip 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InECT0Pkts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InECT1Pkt - 接收到的带有 ECT(1) 代码点的 ip 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InECT1Pkts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InNoECTPkts - 接收到的带有 NOECT 的 ip 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InNoECTPkts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">0. Netstat IP Reasambled</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams</span><br><span class="line"></span><br><span class="line">ReasmFails - IP 重组失败的数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_ReasmFails&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">ReasmOKs - IP 重组成功的数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_ReasmOKs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">ReasmReqds - 需要进行 IP 重组的数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_ReasmReqds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">ReasmTimeout - IP 重组超时的数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_ReasmTimeout&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">1. Netstat IP Errors / Discards</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InDiscards - 接收的丢弃的 ip 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_InDiscards&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InHdrErrors - IP inhdrerrors</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_InHdrErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InUnknownProtos - 由于未知协议而丢弃的 IP 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_InUnknownProtos&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutDiscards - IP outdiscards</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_OutDiscards&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutNoRoutes - 由于没有输出路由而丢弃的 IP 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_OutNoRoutes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InNoRoutes - 由于转发路径中没有路由而丢弃的 IP 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InNoRoutes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InCsumErrors - 具有校验和错误的 IP 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InCsumErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InTruncatedPkts - 由于帧没有携带足够的数据而丢弃的 IP 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IpExt_InTruncatedPkts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InAddrErrors - 由于内部地址错误而丢弃的 IP 数据报</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Ip_InAddrErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line">Network Netstat TCP /proc/net/snmp</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">1. TCP Segments</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Segments out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InCsumErrors - 接收的带有校验和错误的报文数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Tcp_InCsumErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InErrs - TCP 接收的错误报文数(5分钟内)(例如：错误的校验和)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Tcp_InErrs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InSegs - TCP 接收的目前所有建立连接的错误报文数(5分钟内)(例如：错误的校验和)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Tcp_InSegs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutRsts - TCP 发送的报文数(5分钟内)（包括 RST flag）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Tcp_OutRsts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutSegs - TCP 发送的报文数(5分钟内)（包括当前连接的段但是不包括重传的段)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Tcp_OutSegs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">RetransSegs - TCP 重传报文数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Tcp_RetransSegs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">2. TCP Connections</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Connections</span><br><span class="line"></span><br><span class="line">CurrEstab - 当前状态为 ESTABLISHED 或 CLOSE-WAIT 的 TCP 连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_netstat_Tcp_CurrEstab&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">MaxConn - 限制实体可以支持的 TCP 最大连接总数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_netstat_Tcp_MaxConn&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">3. TCP Retransmission</span><br><span class="line">type: Graph</span><br><span class="line">Unit: milliseconds</span><br><span class="line">Label: Milliseconds</span><br><span class="line"></span><br><span class="line">RtoAlgorithm - TCP 重传超时时间</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_netstat_Tcp_RtoAlgorithm&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">RtoMax - TCP允许的重传超时的最大值，以毫秒为单位</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_netstat_Tcp_RtoMax&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br><span class="line"></span><br><span class="line">RtoMin - TCP允许的重传超时的最小值，以毫秒为单位</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_netstat_Tcp_RtoMin&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">4. TCP Segments</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Connections</span><br><span class="line"></span><br><span class="line">ActiveOpens - 已从 CLOSED 状态直接转换到 SYN-SENT 状态的 TCP 平均连接数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Tcp_ActiveOpens&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">AttemptFails - 从 SYN-SENT 和 SYN-RCVD 转换到 CLOSED 状态的 TCP 平均连接数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Tcp_AttemptFails&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">EstabResets - 从 ESTABLISHED 状态或 CLOSE-WAIT 状态直接转换到 CLOSED 状态的 TCP 平均连接数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Tcp_EstabResets&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">PassiveOpens - 已从 LISTEN 状态直接转换到 SYN-RCVD 状态的 TCP 平均连接数(5分钟内)</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Tcp_PassiveOpens&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line">Network Netstat TCP Linux MIPs</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">1. TCP Aborts / Tiemouts</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Connections</span><br><span class="line"></span><br><span class="line">TCPAbortOnClose - 由于用户关闭中止的连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPAbortOnClose&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPAbortOnData - 由于意外数据而中止的连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPAbortOnData&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPAbortOnLinger - 关闭后，在徘徊状态中止的连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPAbortOnLinger&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPAbortOnMemory - 连接到 socket 之前中止的连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPAbortOnMemory&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPAbortOnTimeout - 由于超时中止的连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPAbortOnTimeout&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPAbortFailed - 由于内存不足，连接中止但未发送RST的连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPAbortFailed&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPTimeouts - 其他 TCP 连接超时的连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPTimeouts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">2. TCP Delayed ACK</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">DelayedACKLocked - 由于 socket 锁定 延时ACK 进一步延迟的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_DelayedACKLocked&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">DelayedACKLost - 快速回复 ACK 模式被激活的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_DelayedACKLost&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">DelayedACKs - 发送延迟 AC K的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_DelayedACKs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">3. TCP SynCookie / Challenge</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter out (-) / in (+)</span><br><span class="line"></span><br><span class="line">SyncookiesFailed - 接收的无效的 SYN cookies 的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_SyncookiesFailed&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">SyncookiesRecv - 接收的 SYN cookies 的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_SyncookiesRecv&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">SyncookiesSent - 发送的 SYN cookies 的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_SyncookiesSent&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">SynChallenge - 发送的 SYNChallenge 数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSYNChallenge&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPChallengeACK - 发送的 Challenge ACK 数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPChallengeACK&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">4. TCP LOSS</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPLossFailures - 处于 Loss 状态下的 TCP 包数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPLossFailures&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPLossProbeRecovery - 恢复的 TCP 丢失探测定时器的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPLossProbeRecovery&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPLossProbes - 发送的 TCP 丢失探测定时器的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPLossProbes&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPLossUndo - 在部分确认后，拥塞窗口没有缓慢启动而恢复的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPLossUndo&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPLostRetransmit - TCP 包丢失重传的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPLostRetransmit&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">5. TCP DROPS</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">ListenDrops - 监听队列连接丢弃数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_ListenDrops&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">LockDroppedIcmps - 因 socket 锁定而丢弃的 ICMP 数据包数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_LockDroppedIcmps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPDeferAcceptDrop - 在 SYN_RECV 状态下由 socket 接收的丢弃的 ACK 帧</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPDeferAcceptDrop&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPBacklogDrop - 由于 socket 接收队列已满，丢弃的TCP数据包数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPBacklogDrop&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutOfWindowIcmps - 由于 out-of-window 丢弃的 ICMP 包数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_OutOfWindowIcmps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPMinTTLDrop - 在 minTTL 条件下丢弃的 TCP数据包的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPMinTTLDrop&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">6. TCP Retrans</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPForwardRetrans - 使用 F-RTO 重新传输丢失的数据包的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPForwardRetrans&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSlowStartRetrans - 在慢启动后重传丢失的数据包数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSlowStartRetrans&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSynRetrans - SYN-SYN/ACK重传以分解 SYN 中的重传，快速/超时重传</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSynRetrans&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSpuriousRTOs - TCP 虚假 RTOs 数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSpuriousRTOs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSpuriousRtxHostQueues - Times detected that the fast clone is not yet freed in tcp_transmit_skb()</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line"> irate(node_netstat_TcpExt_TCPSpuriousRtxHostQueues&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPFullUndo - 重传 undoRetransmits that undid the CWND reduction</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPFullUndo&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPRetransFail - tcp_retransmit_skb() 调用失败的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPRetransFail&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPPartialUndo - 使用 Hoe heuristic 部分恢复拥塞窗口</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPPartialUndo&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">7. TCP Pruned</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">PruneCalled - 由于 socket 缓冲区溢出而从接收队列中删除的数据包数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_PruneCalled&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">RcvPruned - 从接收队列中删除的数据包数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_RcvPruned&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OfoPruned - 由于 socket 缓冲区溢出，从无序队列中删除的数据包数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_OfoPruned&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">8. TCP Direct Copy</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPDirectCopyFromBacklog - 接收的来自 accept queue 的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPDirectCopyFromBacklog&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPDirectCopyFromPrequeue - 接收的来自 TCP prequeue 的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPDirectCopyFromPrequeue&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br></pre></td><td class="code"><pre><span class="line">9. TCP TimeWait</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TW - 在快速计时器中完成 TIME_WAITTCP 套接字</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TW&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TWKilled - 在慢速计时器中完成 TIME_WAITTCP 套接字</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TWKilled&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TWRecycled - 按时间戳回收的 TIME_WAIT 套接字</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TWRecycled&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPTimeWaitOverflow - 发生 TIME_WAIT 溢出的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPTimeWaitOverflow&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">0. TCP PAWS</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">PAWSActive - 由于 TCP 时间戳PAWS而拒绝激活的连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_PAWSActive&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">PAWSEstab - 由于 TCP 时间戳PAWS而拒绝建立连接的数据包数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_PAWSEstab&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">PAWSPassive - 由于 TCP 时间戳PAWS而被拒绝的被动连接数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_PAWSPassive&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">1. TCP SACK</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPSackRecovery - 使用 Sack 恢复丢失的包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSackRecovery&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line">TCPSackRecoveryFail - 使用 Sack 恢复丢失的包失败</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSackRecoveryFail&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSackShiftFallback</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSackShiftFallback&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSackShifted</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSackShifted&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSackDiscard</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSACKDiscard&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSackFailures</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSackFailures&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSackMerged</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSackMerged&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line">TCPSACKReneging</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSACKReneging&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSACKReorder</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSACKReorder&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">2. TCP DSACK</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPDSACKIgnoredOld - 在重新传输时丢弃具有重复 SACK 的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPDSACKIgnoredOld&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPDSACKOfoRecv - 接收到无序的 DSACK 数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPDSACKOfoRecv&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPDSACKOfoSent - 发送的无序的 DSACK 数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPDSACKOfoSent&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPDSACKOldSent - 发送的旧 DSACKs 数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPDSACKOldSent&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPDSACKRecv - 接收的 DSACK 数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPDSACKRecv&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPDSACKUndo</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPDSACKUndo&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPDSACKIgnoredNoUndo</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPDSACKIgnoredNoUndo&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">3. TCP FastOpen / FastRetrans</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPFastOpenActive - 成功的出站 TFO 连接</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPFastOpenActive&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPFastOpenActiveFail - 收到的 SYN-ACK 数据包未确认 SYN 数据包中发送的数据，并导致无 SYN 数据的重传</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPFastOpenActiveFail&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPFastOpenCookieReqd - 请求设置 TFO 但没有 cookie 的入站 SYN 数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPFastOpenCookieReqd&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPFastOpenListenOverflow - TFO 监听队列溢出</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPFastOpenListenOverflow&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPFastOpenPassive - 成功的入站 TFO 连接</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPFastOpenPassive&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPFastOpenPassiveFail - 带有TFO cookie 的无效的入站 SYN 数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPFastOpenPassiveFail&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPFastRetrans - 丢失快速重传的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPFastRetrans&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">4. TCP HP</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPHPAcks - 接收到的不包含数据的 Acks</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPHPAcks&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPHPHits - HP 数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPHPHits&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPHPHitsToUser</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPHPHitsToUser&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">5. TCP ZeroWindow</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPToZeroWindowAdv</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPToZeroWindowAdv&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPWantZeroWindowAdv</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPWantZeroWindowAdv&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPFromZeroWindowAdv</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPFromZeroWindowAdv&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">6. TCP Reorder</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPFACKReorder - 如果在需要更新时判断支持FACK，使用 TCPFACKReorder 计数器</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPFACKReorder&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPTSReorder - 如果是被一个partial ack确认后需要更新reorder值,使用 TCPTSReorder 计数器</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPTSReorder&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">7. TCP Reno</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPRenoFailures - reno 后快速重传超时的数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPRenoFailures&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPRenoRecovery</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPRenoRecovery&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPRenoRecoveryFail</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPRenoRecoveryFail&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPRenoReorder</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPRenoReorder&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">8. TCP ReqQ</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPReqQFullDoCookies</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPReqQFullDoCookies&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPReqQFullDrop</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPReqQFullDrop&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">1```</span><br><span class="line">```shell</span><br><span class="line">9. TCP Out of order</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPOFODrop - 在 OFO 中排队但由于达到了 socket rcvbuf 限制而丢弃的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPOFODrop&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPOFOMerge - OFO 中与其他数据包合并的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPOFOMerge&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPOFOQueue - OFO 队列的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPOFOQueue&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">0. TCP MD5</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPMD5NotFound - 希望收到带 MD5 选项的包，但是包里面没有 MD5 选项</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPMD5NotFound&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPMD5Unexpected - 不希望收到带 MD5 选项的包，但是包里面有 MD5 选项</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPMD5Unexpected&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">1. TCP Prequeued</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPPrequeued</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPPrequeued&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPPrequeueDropped - prequeue 队列丢弃的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPPrequeueDropped&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">2. TCP Rcv</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPRcvCoalesce - 在接收队列中崩溃的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPRcvCoalesce&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPRcvCollapsed - 由于低的 socket 缓冲区，在接收队列中崩溃的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPRcvCollapsed&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">3. TCP Original Data</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPOrigDataSent - 带有原始数据的传出数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPOrigDataSent&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">4. TCP Filters</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">ArpFilter - 过滤的 Arp 数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_ArpFilter&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">IPReversePathFilter - 从非直连网络到达的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_IPReversePathFilter&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">5. TCP Pure ACK</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPPureAcks - 接收到不包含的数据负载的 ACKs</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPPureAcks&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">6. TCP Auto Corking</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">TCPAutoCorking - Tcp 自动闭塞</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPAutoCorking&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">2```</span><br><span class="line">```shell</span><br><span class="line">7. TCP Issues</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">BusyPollRxPackets - 低延迟应用程序获取的数据包</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_BusyPollRxPackets&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">EmbryonicRsts - Resets received for embryonic SYN_RECV sockets</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_EmbryonicRsts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">ListenOverflows - 监听 socket 的队列溢出</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_ListenOverflows&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPSchedulerFailed</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPSchedulerFailed&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">TCPMemoryPressures</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_TcpExt_TCPMemoryPressures&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line">Network Netstat UDP /proc/net/snmp</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1. UDP In / Out</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InDatagrams - 平均接收的 UDP 数据包（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Udp_InDatagrams&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutDatagrams - 平均发送的 UDP 数据包（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Udp_OutDatagrams&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">2. UDP Errors</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InCsumErrors - 具有校验和错误的 UDP 数据包的平均数（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Udp_InCsumErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InErrors - 本机端口未监听之外的其他原因引起的 UDP 入包无法送达(应用层)的平均数（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Udp_InErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">RcvbufErrors - 接收缓冲区溢出的 UDP 包的平均数（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Udp_RcvbufErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">SndbufErrors - 发送缓冲区溢出的 UDP 包的平均数（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Udp_SndbufErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">NoPorts - 未知端口接收 UDP 数据包的平均数（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Udp_NoPorts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">3. UDP Lite In / Out</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InDatagrams - 平均接收的 UDP-Lite 数据包（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_UdpLite_InDatagrams&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutDatagrams - 平均发送的 UDP-Lite 数据包（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_UdpLite_OutDatagrams&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">4. UDP Lite Errors</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Datagrams out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InCsumErrors - 具有校验和错误的 UDP-Lite 数据包的平均数（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_UdpLite_InCsumErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InErrors - 本机端口未监听之外的其他原因引起的 UDP-Lite 入包无法送达(应用层)的平均数（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_UdpLite_InErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">RcvbufErrors - 接收缓冲区溢出的 UDP-Lite 包的平均数（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_UdpLite_RcvbufErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">SndbufErrors - 发送缓冲区溢出的 UDP-Lite 包的平均数（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_UdpLite_InErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">NoPorts - 未知端口接收 UDP-Lite 数据包的平均数（5分钟内）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_UdpLite_NoPorts&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line">Network Netstat ICMP /proc/net/snmp</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">1. ICMP Errors 1</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Messages out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InErrors - 接收的 ICMP 错误的报文（例如ICMP校验和错误、长度错误等）</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutErrors - 由于 ICMP 错误未发送的报文（例如缺少缓存</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InDestUnreachs - 接收终点不可达的报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InDestUnreachs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutDestUnreachs - 发送终点不可达的报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutDestUnreachs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InType11 - 时间超时报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_IcmpMsg_InType11&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">. ICMP Errors 2</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Messages out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InCsumErrors - 具有校验和错误 ICMP 报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InCsumErrors&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InTimeExcds - 接收时间超时报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InTimeExcds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutTimeExcds - 发送时间超时报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutTimeExcds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InParmProbs - 接收参数错误报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InParmProbs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutParmProb - 发送参数错误报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutParmProbs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InSrcQuenchs - 接收源点抑制报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InSrcQuenchs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutSrcQuenchs - 发送源点抑制报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutSrcQuenchs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">3. ICMP In / Out - Messages / Redirects</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Messages out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InMsgs - 接收的报文数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InMsgs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InRedirects - 接收的 ICMP 重定向报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InRedirects&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutMsgs - 发送的报文数</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutMsgs&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutRedirects - 发送的 ICMP 重定向报文</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutRedirects&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">4. ICMP Timestamps</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Messages out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InTimestampReps - 接收(应答)时间戳</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InTimestampReps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InTimestamps - 接收(请求)时间戳</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InTimestamps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">utTimestampReps - 发送(应答)时间戳</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutTimestampReps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutTimestamps - 发送(请求)时间戳</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutTimestamps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">5. ICMP Echos</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Messages out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InEchoReps - 接收回显(应答)消息</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InEchoReps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InEchos - 接收回显(请求)消息</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InTimestamps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutEchoReps - 发送回显(应答)消息</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutEchoReps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutEchos - 发送回显(请求)消息</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutEchos&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">6. ICMP Masks</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Messages out (-) / in (+)</span><br><span class="line"></span><br><span class="line">InAddrMaskReps - 接收地址掩码(应答)消息</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InAddrMaskReps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">InAddrMasks - 接收地址掩码(请求)消息</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_InAddrMasks&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutAddrMaskReps - 发送地址掩码(应答)消息</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutAddrMaskReps&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line"></span><br><span class="line">OutAddrMasks - 发送地址掩码(请求)消息</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">irate(node_netstat_Icmp_OutAddrMasks&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;[5m])</span><br><span class="line">Node Exporter</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. Node Exporter Scrape Time</span><br><span class="line">type: Graph</span><br><span class="line">Unit: seconds</span><br><span class="line">Label: Seconds</span><br><span class="line"></span><br><span class="line">&#123;&#123;collector&#125;&#125; - 各个收集器持续时间</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_scrape_collector_duration_seconds&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2. Node Exporter Scrape Success</span><br><span class="line">type: Graph</span><br><span class="line">Unit: short</span><br><span class="line">Label: Counter</span><br><span class="line"></span><br><span class="line">&#123;&#123;collector&#125;&#125; - 各个收集器正常工作数量</span><br><span class="line">metrics:</span><br><span class="line"></span><br><span class="line">node_scrape_collector_success&#123;instance=~&quot;$node&quot;,job=~&quot;$job&quot;&#125;</span><br></pre></td></tr></table></figure>

    </article>
    
    <div class="read-nums">
      <!-- id 将作为查询条件 -->
      <span id="2024/06/16/node_exporter/" class="leancloud_visitors" data-flag-title="Your Article Title">
        <em class="post-meta-item-text">浏览量</em>
        <i class="leancloud-visitors-count"></i>
      </span>
    </div>
    <div class="comments-intro">
      <h2>评论区</h2>
      <p>欢迎你留下宝贵的意见，昵称输入QQ号会显示QQ头像哦~</p>
    </div>
    <div id="vcomments" class="vcomments"></div>
    
  </div>
  <div class="article-catelogue">
    <div class="article-catelogue--wrapper">
      <div class="catelogue catelogue-1">
        <h3>目录</h3>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E6%A0%87%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.</span> <span class="toc-text">指标详解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%8C%87%E6%A0%87"><span class="toc-number">2.</span> <span class="toc-text">常用指标</span></a></li></ol>
      </div>
      
        <div class="catelogue catelogue-2">
          
            <p>
              <span>上一篇：</span>
              <a href="/2024/06/26/自定义监控/">prometheus自定义监控</a>
            </p>
           
          
            <p>
              <span>下一篇</span>
              <a href="/2024/06/16/prometheus 监控/">prometheus</a>
            </p>
          
        </div>
      
    </div>
  </div>
</div>


<script>
  // var定义，避免pjax重新进来造成的重复声明错误
  var config = JSON.parse('{"enable":true,"appId":"Pf8zCXGEH1qsprnWfikVVujL-gzGzoHsz","appKey":"qOqoiUHhH1TGtLRUYURkLRQX","placeholder":"请留下你宝贵的意见吧~","meta":["nick"],"recordIP":true,"visitor":true,"enableQQ":true}')
  new Valine({
    el: '#vcomments',
    appId: config.appId,
    appKey: config.appKey,
    placeholder: config.placeholder,
    meta: config.meta,
    recordIP: config.recordIP,
    visitor: config.visitor,
    enableQQ: config.enableQQ,
    path: '2024/06/16/node_exporter/'
  })
</script>


<script>
  $(document).on('pjax:complete', function() {
    const tocs = document.querySelector('.toc')
    const links = tocs ? tocs.querySelectorAll('a') : []
    links.forEach(link => {
      link.addEventListener('click', e => {
        const href = decodeURIComponent(e.href)
        href.search(/#(.*)/)
        const id = RegExp.$1
        const target = document.querySelector('#' + id)
        const top = target.offsetTop
        document.documentElement.scrollTo({
          top: top - 100,
          behavior: 'smooth'
        })
        e.preventDefault()
      })
    })
  })
</script> 

</div>
      <div class="main-right-wrapper"><div class="main-right">
  <div class="main-right--board">
    <div class="main-right--title">
      <h5>公告栏</h5>
      <i class="iconfont icon-gonggao"></i>
    </div>
    <div class="main-right--content">
      Hello~大噶好。唔系小曹宅，欢迎你们来到我的博客小站，希望能在这里收获到有用的东西哦！ 
    </div>
  </div>

  <div id="aplayer" class="main-right--music"></div>

  <div class="operate-items">
    <div class="operate-item backtop">
      <i class="iconfont icon-huidaodingbu"></i>
      <span>回到顶部</span>
    </div>
    
    <div class="operate-item turn-comment hidden">
      <i class="iconfont icon-pinglun"></i>
      <span>查看评论</span>
    </div>
    
  </div>

  <div class="main-right--site">
    <div class="main-right--power">
      <p>Power By <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/">Hexo</a>.</p>
      <p>Theme：<a target="_blank" rel="noopener" href="https://github.com/Aizener/hexo-theme-cola">Cola.</a></p>
    </div>
    <p class="main-right--refer"><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/#/Integrated/index">2262690094</a> </p>
  </div>
</div>

<script>
  function setOperateItem () {
    const reg = /\d{4}\/\d{2}\/\d{2}\/.+/
    const path = location.pathname
    const operateDom = document.querySelector('.main-right .operate-items')
    const commentDom = document.querySelector('.turn-comment')
    const cateloguDom = document.querySelector('.article-catelogue > .article-catelogue--wrapper');

    if (commentDom) {
      if (reg.test(path) || path.match(/\/log\/.+/)) {
        commentDom.classList.remove('hidden')
        const newDom = operateDom.cloneNode(true);
        const _backtopDom = newDom.querySelector('.backtop');
        const _commentDom = newDom.querySelector('.turn-comment');
        _backtopDom.addEventListener('click', () => backTopEvent());
        _commentDom.addEventListener('click', () => commentDomEvent());
        cateloguDom.appendChild(newDom);
      } else {
        commentDom.classList.add('hidden')
      }
    }
  }

  setOperateItem()
  const musics = JSON.parse(`[{"name":"不找了","artist":"隔壁老樊","url":"music/隔壁老樊 - 不找了.mp3","cover":"https://img2.baidu.com/it/u=1260056724,1076343118&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"},{"name":"于是天气刚好","artist":"泪桥","url":"music/于是天气刚好 - 泪桥.mp3","cover":"https://img2.baidu.com/it/u=705831265,2862720033&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"},{"name":"安和桥","artist":"林芬宇","url":"music/林芬宇 - 安和桥.mp3","cover":"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQo0SWQx6YrNA8lElaG4OOKLkNkNzLO1PflKg&usqp=CAU"}]`)
  const ap = new APlayer({
    container: document.querySelector('#aplayer'),
    audio: musics,
  })

  $(document).on('pjax:complete', function() {
    setOperateItem()
  })

  document.querySelector('.backtop').addEventListener('click', () => {
    backTopEvent();
  })
  const dom = document.querySelector('.turn-comment')
  dom && dom.addEventListener('click', () => {
    commentDomEvent();
  })

  function backTopEvent() {
    document.documentElement.scrollTo({
      top: 0,
      behavior: 'smooth'
    })
  }

  function commentDomEvent() {
    const commentDom = document.querySelector('.comments-intro')
    if (!commentDom) return
    const top = commentDom.offsetTop, height = commentDom.offsetHeight
    document.documentElement.scrollTo({
      top: top - 2 * height,
      behavior: 'smooth'
    })
  }
</script></div>
    </section>
  </div>
  <div id="progress" class="progress"></div>
  <div id="gray" class="gray"></div>

  <script>
    function initScroll () {
      document.addEventListener('scroll', () => {
        const doc = document.documentElement
        const scrollTop = doc.scrollTop
        const pageHeight = doc.offsetHeight
        const clientHeight = doc.clientHeight
        const ratio = scrollTop / (pageHeight - clientHeight)
        const progress = document.querySelector('#progress')
        const avatarImg = document.querySelector('.main-left--avatar')
        progress.style.width = (100 * ratio) + '%'
        avatarImg.style.transform = `rotate(${360 * ratio}deg)`
      })
    }

    const rootPath = "/"

    const checkAndSetArticlePageLayout = () => {
      const path = location.pathname.replace(rootPath, '');
      if (
        /^\/?\d{4}\/\d{2}\/\d{2}\/.*/.test(path) ||
        /^log\/.+/.test(path)
      ) {
        $('.main-container, .main-right, .main-right-wrapper').addClass('is-article')
      } else {
        $('.main-container, .main-right, .main-right-wrapper').removeClass('is-article')
      }
    }

    const gray = "none"
    const setGrayStyle = () => {
      if (gray === 'none') {
        return
      } else if (gray === 'index') {
        location.pathname === '/' ? $('#gray').show() : $('#gray').hide()
      } else if (gray === 'all') {
        $('#gray').show()
      }
    }
    setGrayStyle()


    window.onload = function () {
      checkAndSetArticlePageLayout()
      setTimeout(() => {
        $('#load').slideUp()
        $('#container').slideToggle()
        setTimeout(() => {
          initScroll();
        }, 500)
      }, 500)
    }
    
    let status = 0
    // 对所有链接跳转事件绑定pjax容器container
    $(document).pjax('a[target!=_blank]', '#main-container', {
      container: '#main-container',
      fragment: '#main-container',
      timeout: 8000
    })

    $(document).on('pjax:start', function() {
    })
    $(document).on('pjax:complete', function() {
      status = 0
      $('.main-container').addClass('to-up').on('animationend', function() {
        $(this).removeClass('to-up')
      })
      setGrayStyle()
      checkAndSetArticlePageLayout()
    })
    $(document).on('pjax:popstate', function() {
      status = -1
      checkAndSetArticlePageLayout()
    });
  </script>
</body>
</html>